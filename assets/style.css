:root {
    /* === ALL CSS VARIABLES === */
    /* All CSS variables are defined in snippets/css-variables.liquid */
    /* This includes colors, typography, spacing, borders, transitions, z-indexes, layout, and clip-paths */
    

}

/* === GLOBAL RESETS & BASE STYLES === */
html { box-sizing: border-box; font-size: 100%; scroll-behavior: smooth; }
*, *::before, *::after { box-sizing: inherit; margin: 0; padding: 0; }
body {
    font-family: var(--font-family-body);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    color: var(--color-text-primary);
    background-color: var(--color-background-body);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
    position: relative; /* For scanlines/CRT effect if they are fixed */
}
img, picture, video, canvas, svg { display: block; max-width: 100%; height: auto; }
ul[role='list'], ol[role='list'] { list-style: none; }

/* === TYPOGRAPHY HIERARCHY === */
a {
    color: var(--color-text-link);
    text-decoration: none;
    transition: color var(--transition-duration-normal) var(--transition-easing),
                text-shadow var(--transition-duration-normal) var(--transition-easing);
}
a:hover, a:focus {
    color: var(--color-text-link-hover);
    text-shadow: 0 0 5px var(--color-text-link), 0 0 10px var(--color-text-link);
    outline: none;
}
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family-primary);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-heading);
    color: var(--color-text-headings-default);
    margin-top: var(--space-lg);
    margin-bottom: var(--space-md);
    text-transform: uppercase;
    letter-spacing: 1px;
}
h1 { font-size: var(--font-size-h1); }
h2 { font-size: var(--font-size-h2); }
h3 { font-size: var(--font-size-h3); }
h4 { font-size: var(--font-size-h4); }
h5 { font-size: var(--font-size-lg); }
h6 { font-size: var(--font-size-md); }
p { margin-bottom: var(--space-md); }
.rte p { margin-bottom: var(--space-md); }
.rte ul, .rte ol { margin-bottom: var(--space-md); padding-left: var(--space-lg); }
.rte li { margin-bottom: var(--space-xs); }
ul, ol { margin-bottom: var(--space-md); padding-left: var(--space-lg); }
li { margin-bottom: var(--space-xs); }
strong, b { font-weight: var(--font-weight-bold); color: var(--color-text-highlight); }
em, i { font-style: italic; }
small { font-size: var(--font-size-sm); }
code, pre {
    font-family: var(--font-family-secondary);
    background-color: var(--color-secondary-dark); /* Changed from rgba */
    padding: var(--space-xxs) var(--space-xs);
    border-radius: var(--border-radius-subtle);
    border: var(--border-width-thin) solid var(--color-border-primary);
    font-size: var(--font-size-sm);
    color: var(--color-text-primary);
}
pre { padding: var(--space-md); overflow-x: auto; margin-bottom: var(--space-md); white-space: pre-wrap; word-wrap: break-word; }
hr { border: 0; border-top: var(--border-width-thin) solid var(--color-border-primary); margin: var(--space-xl) 0; opacity: 0.5; }
.rte h1, .rte h2, .rte h3, .rte h4, .rte h5, .rte h6 { font-family: var(--font-family-primary); color: var(--color-text-headings-default); }
.rte a { color: var(--color-text-link); }
.rte a:hover, .rte a:focus { color: var(--color-text-link-hover); }
::selection { background-color: var(--color-accent-magenta); color: var(--color-primary-dark); }

/* === UTILITY CLASSES === */
/* Spacing (m-*, p-*, mt-*, etc. using --space-xxs to --space-xxl) */
/* === SPACING UTILITIES === */
.m-0{margin:0 !important;}.p-0{padding:0 !important;}
.mt-xxs{margin-top:var(--space-xxs);}.mb-xxs{margin-bottom:var(--space-xxs);}.ml-xxs{margin-left:var(--space-xxs);}.mr-xxs{margin-right:var(--space-xxs);}.mx-xxs{margin-left:var(--space-xxs);margin-right:var(--space-xxs);}.my-xxs{margin-top:var(--space-xxs);margin-bottom:var(--space-xxs);}
.m-xs{margin:var(--space-xs);}.mt-xs{margin-top:var(--space-xs);}.mb-xs{margin-bottom:var(--space-xs);}.ml-xs{margin-left:var(--space-xs);}.mr-xs{margin-right:var(--space-xs);}.mx-xs{margin-left:var(--space-xs);margin-right:var(--space-xs);}.my-xs{margin-top:var(--space-xs);margin-bottom:var(--space-xs);}
.m-sm{margin:var(--space-sm);}.mt-sm{margin-top:var(--space-sm);}.mb-sm{margin-bottom:var(--space-sm);}.ml-sm{margin-left:var(--space-sm);}.mr-sm{margin-right:var(--space-sm);}.mx-sm{margin-left:var(--space-sm);margin-right:var(--space-sm);}.my-sm{margin-top:var(--space-sm);margin-bottom:var(--space-sm);}
.m-md{margin:var(--space-md);}.mt-md{margin-top:var(--space-md);}.mb-md{margin-bottom:var(--space-md);}.ml-md{margin-left:var(--space-md);}.mr-md{margin-right:var(--space-md);}.mx-md{margin-left:var(--space-md);margin-right:var(--space-md);}.my-md{margin-top:var(--space-md);margin-bottom:var(--space-md);}
.m-lg{margin:var(--space-lg);}.mt-lg{margin-top:var(--space-lg);}.mb-lg{margin-bottom:var(--space-lg);}.ml-lg{margin-left:var(--space-lg);}.mr-lg{margin-right:var(--space-lg);}.mx-lg{margin-left:var(--space-lg);margin-right:var(--space-lg);}.my-lg{margin-top:var(--space-lg);margin-bottom:var(--space-lg);}
.m-xl{margin:var(--space-xl);}.mt-xl{margin-top:var(--space-xl);}.mb-xl{margin-bottom:var(--space-xl);}.ml-xl{margin-left:var(--space-xl);}.mr-xl{margin-right:var(--space-xl);}.mx-xl{margin-left:var(--space-xl);margin-right:var(--space-xl);}.my-xl{margin-top:var(--space-xl);margin-bottom:var(--space-xl);}
.m-xxl{margin:var(--space-xxl);}.mt-xxl{margin-top:var(--space-xxl);}.mb-xxl{margin-bottom:var(--space-xxl);}.ml-xxl{margin-left:var(--space-xxl);}.mr-xxl{margin-right:var(--space-xxl);}.mx-xxl{margin-left:var(--space-xxl);margin-right:var(--space-xxl);}.my-xxl{margin-top:var(--space-xxl);margin-bottom:var(--space-xxl);}
.p-xxs{padding:var(--space-xxs);}.pt-xxs{padding-top:var(--space-xxs);}.pb-xxs{padding-bottom:var(--space-xxs);}.pl-xxs{padding-left:var(--space-xxs);}.pr-xxs{padding-right:var(--space-xxs);}.px-xxs{padding-left:var(--space-xxs);padding-right:var(--space-xxs);}.py-xxs{padding-top:var(--space-xxs);padding-bottom:var(--space-xxs);}
.p-xs{padding:var(--space-xs);}.pt-xs{padding-top:var(--space-xs);}.pb-xs{padding-bottom:var(--space-xs);}.pl-xs{padding-left:var(--space-xs);}.pr-xs{padding-right:var(--space-xs);}.px-xs{padding-left:var(--space-xs);padding-right:var(--space-xs);}.py-xs{padding-top:var(--space-xs);padding-bottom:var(--space-xs);}
.p-sm{padding:var(--space-sm);}.pt-sm{padding-top:var(--space-sm);}.pb-sm{padding-bottom:var(--space-sm);}.pl-sm{padding-left:var(--space-sm);}.pr-sm{padding-right:var(--space-sm);}.px-sm{padding-left:var(--space-sm);padding-right:var(--space-sm);}.py-sm{padding-top:var(--space-sm);padding-bottom:var(--space-sm);}
.p-md{padding:var(--space-md);}.pt-md{padding-top:var(--space-md);}.pb-md{padding-bottom:var(--space-md);}.pl-md{padding-left:var(--space-md);}.pr-md{padding-right:var(--space-md);}.px-md{padding-left:var(--space-md);padding-right:var(--space-md);}.py-md{padding-top:var(--space-md);padding-bottom:var(--space-md);}
.p-lg{padding:var(--space-lg);}.pt-lg{padding-top:var(--space-lg);}.pb-lg{padding-bottom:var(--space-lg);}.pl-lg{padding-left:var(--space-lg);}.pr-lg{padding-right:var(--space-lg);}.px-lg{padding-left:var(--space-lg);padding-right:var(--space-lg);}.py-lg{padding-top:var(--space-lg);padding-bottom:var(--space-lg);}
.p-xl{padding:var(--space-xl);}.pt-xl{padding-top:var(--space-xl);}.pb-xl{padding-bottom:var(--space-xl);}.pl-xl{padding-left:var(--space-xl);}.pr-xl{padding-right:var(--space-xl);}.px-xl{padding-left:var(--space-xl);padding-right:var(--space-xl);}.py-xl{padding-top:var(--space-xl);padding-bottom:var(--space-xl);}
.p-xxl{padding:var(--space-xxl);}.pt-xxl{padding-top:var(--space-xxl);}.pb-xxl{padding-bottom:var(--space-xxl);}.pl-xxl{padding-left:var(--space-xxl);}.pr-xxl{padding-right:var(--space-xxl);}.px-xxl{padding-left:var(--space-xxl);padding-right:var(--space-xxl);}.py-xxl{padding-top:var(--space-xxl);padding-bottom:var(--space-xxl);}

/* === TEXT UTILITIES === */
.text-left{text-align:left !important;}.text-center{text-align:center !important;}.text-right{text-align:right !important;}.text-justify{text-align:justify !important;}
.text-uppercase{text-transform:uppercase !important;}.text-lowercase{text-transform:lowercase !important;}.text-capitalize{text-transform:capitalize !important;}.text-normal-case{text-transform:none !important;}
.text-primary{color:var(--color-text-primary) !important;}.text-secondary{color:var(--color-text-secondary) !important;}.text-highlight{color:var(--color-text-highlight) !important;}
.text-accent-cyan{color:var(--color-accent-cyan) !important;}.text-accent-magenta{color:var(--color-accent-magenta) !important;}.text-accent-yellow{color:var(--color-accent-yellow) !important;}.text-accent-green{color:var(--color-accent-green) !important;}.text-accent-orange{color:var(--color-accent-orange) !important;}.text-accent-red{color:var(--color-accent-red) !important;}
.font-family-primary{font-family:var(--font-family-primary) !important;}.font-family-secondary{font-family:var(--font-family-secondary) !important;}.font-family-body{font-family:var(--font-family-body) !important;}
.font-weight-light{font-weight:var(--font-weight-light) !important;}.font-weight-normal{font-weight:var(--font-weight-normal) !important;}.font-weight-bold{font-weight:var(--font-weight-bold) !important;}
.font-size-xs{font-size:var(--font-size-xs) !important;}.font-size-sm{font-size:var(--font-size-sm) !important;}.font-size-base{font-size:var(--font-size-base) !important;}.font-size-md{font-size:var(--font-size-md) !important;}.font-size-lg{font-size:var(--font-size-lg) !important;}.font-size-xl{font-size:var(--font-size-xl) !important;}.font-size-xxl{font-size:var(--font-size-xxl) !important;}

/* === DISPLAY UTILITIES === */
.d-none{display:none !important;}.d-block{display:block !important;}.d-inline{display:inline !important;}.d-inline-block{display:inline-block !important;}.d-flex{display:flex !important;}.d-grid{display:grid !important;}

/* === FLEXBOX UTILITIES === */
.flex-row{flex-direction:row !important;}.flex-column{flex-direction:column !important;}.flex-wrap{flex-wrap:wrap !important;}.flex-nowrap{flex-wrap:nowrap !important;}
.justify-content-start{justify-content:flex-start !important;}.justify-content-end{justify-content:flex-end !important;}.justify-content-center{justify-content:center !important;}.justify-content-between{justify-content:space-between !important;}.justify-content-around{justify-content:space-around !important;}.justify-content-evenly{justify-content:space-evenly !important;}
.align-items-start{align-items:flex-start !important;}.align-items-end{align-items:flex-end !important;}.align-items-center{align-items:center !important;}.align-items-stretch{align-items:stretch !important;}.align-items-baseline{align-items:baseline !important;}
.flex-grow-1{flex-grow:1 !important;}.flex-shrink-0{flex-shrink:0 !important;}

/* === OTHER UTILITIES === */
.visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}
.w-100{width:100% !important;}.h-100{height:100% !important;}
.border{border:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-top{border-top:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-bottom{border-bottom:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-left{border-left:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-right{border-right:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-0{border:0 !important;}
.border-accent-cyan{border-color:var(--color-accent-cyan) !important;}

/* === LAYOUT HELPERS === */
.container {
  width: 100%;
  max-width: var(--container-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--container-padding-x-sm);
  padding-right: var(--container-padding-x-sm);
}

@media screen and (min-width: 768px) {
  .container {
    padding-left: var(--container-padding-x-md);
    padding-right: var(--container-padding-x-md);
  }
}

.page-width {
    width: 100%;
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding-x-sm);
    padding-right: var(--container-padding-x-sm);
}

@media screen and (min-width: 768px) {
    .page-width {
        padding-left: var(--container-padding-x-md);
        padding-right: var(--container-padding-x-md);
    }
}

/* === COMPONENTS === */
/* --- Buttons --- */
.btn { display: inline-block; padding: var(--space-sm) var(--space-lg); font-family: var(--font-family-secondary); font-size: var(--font-size-base); font-weight: var(--font-weight-normal); text-transform: uppercase; letter-spacing: 1px; text-align: center; border: var(--border-width-medium) solid transparent; background-color: transparent; cursor: pointer; transition: all var(--transition-duration-normal) var(--transition-easing); position: relative; overflow: hidden; clip-path: var(--clip-path-button); user-select: none; }
.btn-cta { color: var(--color-accent-cyan); border-color: var(--color-accent-cyan); }
.btn-cta:hover, .btn-cta:focus { background-color: var(--color-accent-cyan); color: var(--color-text-on-accent); box-shadow: 0 0 10px var(--color-accent-cyan), 0 0 20px var(--color-accent-cyan); outline: none; }
.btn-cta-primary { color: var(--color-text-on-accent); background-color: var(--color-accent-green); border-color: var(--color-accent-green); box-shadow: 0 0 10px var(--color-accent-green), 0 0 15px rgba(0,255,0,0.5); }
.btn-cta-primary:hover, .btn-cta-primary:focus { background-color: transparent; color: var(--color-accent-green); border-color: var(--color-accent-green); box-shadow: 0 0 15px var(--color-accent-green), 0 0 25px var(--color-accent-green); outline: none; }
.btn-secondary { color: var(--color-text-secondary); border-color: var(--color-border-primary); padding: var(--space-xs) var(--space-md); font-size: var(--font-size-sm); }
.btn-secondary:hover, .btn-secondary:focus { color: var(--color-accent-yellow); border-color: var(--color-accent-yellow); box-shadow: 0 0 8px var(--color-accent-yellow); outline: none; }
.btn-secondary i { margin-left: var(--space-xs); color: var(--color-accent-yellow); }
.btn-product { padding: var(--space-xs) var(--space-md); font-size: var(--font-size-sm); }
.btn-qty { background-color: var(--color-background-input); border: var(--border-width-thin) solid var(--color-border-primary); color: var(--color-accent-cyan); font-family: var(--font-family-primary); font-size: var(--font-size-lg); width: 30px; height: 30px; padding: 0; line-height: 28px; text-align: center; clip-path: var(--clip-path-qty-button); }
.btn-qty:hover, .btn-qty:focus { background-color: var(--color-accent-cyan); color: var(--color-text-on-accent); border-color: var(--color-accent-cyan); outline: none; }
.btn::before { content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: left 0.6s ease; }
.btn:hover::before { left: 150%; }
.btn-qty::before { display: none; }
.btn.disabled, .btn:disabled { opacity: 0.5; pointer-events: none; background-color: var(--color-secondary-dark); border-color: var(--color-border-primary); color: var(--color-text-secondary); box-shadow: none; }

/* --- Product Cards --- */
.product-grid {
    display: grid;
    grid-template-columns: repeat(var(--grid-desktop-columns, 4), 1fr);
    gap: var(--space-lg);
    padding: var(--space-md) 0;
    margin: 0 auto;
    width: 100%;
    justify-content: center;
}

/* When there are 3 or fewer items, ensure they don't stretch too wide */
.product-grid:has(.product-card:nth-child(3):last-child),
.product-grid:has(.product-card:nth-child(2):last-child),
.product-grid:has(.product-card:nth-child(1):last-child) {
    max-width: calc(280px * 3 + var(--space-lg) * 2);
}

.product-card {
    width: 100%;
    background-color: var(--color-primary-dark);
    border: var(--border-width-thin) solid var(--color-border-primary);
    transition: all var(--transition-duration-normal) var(--transition-easing);
    position: relative;
    clip-path: var(--clip-path-card);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    border-color: var(--color-accent-magenta);
}

.product-card .product-image {
    position: relative;
    overflow: hidden;
    aspect-ratio: 1.2;
    background-color: var(--color-primary-dark);
}

.product-card .product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-duration-normal) var(--transition-easing);
}

.product-card:hover .product-image img {
    transform: scale(1.05);
}

/* Clean implementation of scan line effect */
.product-card .product-image::before,
.product-card .product-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.product-card:hover .product-image::before {
    opacity: 0.1;
    background: linear-gradient(
        transparent 0%,
        rgba(255, 0, 255, 0.1) 50%,
        transparent 100%
    );
    animation: scanline 1s linear infinite;
}

.product-card:hover .product-image::after {
    opacity: 0.1;
    background: linear-gradient(
        transparent 0%,
        rgba(0, 255, 255, 0.1) 50%,
        transparent 100%
    );
    animation: scanline 1s linear infinite reverse;
}

@keyframes scanline {
    0% {
        transform: translateY(-100%);
    }
    100% {
        transform: translateY(100%);
    }
}

/* Scan line effects are enabled by default */

.product-card .product-info {
    padding: var(--space-md);
    display: flex;
    flex-direction: column;
    background-color: var(--color-secondary-dark);
    border-top: var(--border-width-thin) solid var(--color-accent-cyan);
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
    flex-grow: 1;
}

.product-card .product-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    flex-grow: 1;
}

.product-card .product-actions {
    margin-top: var(--space-md);
    display: flex;
    justify-content: center;
}

/* === MODERN PRODUCT PAGE STYLES === */

/* Product layout with dynamic media width */
.product-layout {
    display: grid;
    grid-template-columns: var(--product-media-width, 50%) 1fr;
    gap: var(--space-xl);
    align-items: start;
}

/* Product media gallery */
.product-media-gallery {
    width: 100%;
}

.main-media-container {
    position: relative;
    margin-bottom: var(--space-md);
}

.product-media {
    position: relative;
    width: 100%;
    background-color: var(--color-secondary-dark);
    border: var(--border-width-thin) solid var(--color-border-primary);
    clip-path: var(--clip-path-card);
    overflow: hidden;
}

.product-media img,
.product-media video {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
}

.product-media-placeholder {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-secondary-dark);
    border: var(--border-width-thin) solid var(--color-border-primary);
    clip-path: var(--clip-path-card);
}

/* Thumbnail gallery */
.thumbnail-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
    gap: var(--space-sm);
    max-width: 100%;
}

.thumbnail-btn {
    position: relative;
    background: none;
    border: var(--border-width-medium) solid var(--color-border-primary);
    padding: 0;
    cursor: pointer;
    transition: all var(--transition-duration-normal) var(--transition-easing);
    clip-path: var(--clip-path-input);
    aspect-ratio: 1;
    overflow: hidden;
}

.thumbnail-btn img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.thumbnail-btn:hover,
.thumbnail-btn.active {
    border-color: var(--color-accent-cyan);
    box-shadow: 0 0 8px var(--color-accent-cyan);
}

.thumbnail-btn .media-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(0, 0, 0, 0.7);
    color: var(--color-accent-cyan);
    padding: var(--space-xs);
    border-radius: var(--border-radius-sm);
    font-size: var(--font-size-xs);
    font-family: var(--font-family-secondary);
}

/* Variant selection */
.variant-selection {
    margin-bottom: var(--space-lg);
}

.variant-content {
    padding: var(--space-md);
}

.variant-option {
    margin-bottom: var(--space-md);
}

.variant-option:last-child {
    margin-bottom: 0;
}

.variant-label {
    display: block;
    margin-bottom: var(--space-sm);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    color: var(--color-accent-cyan);
    text-transform: uppercase;
}

.variant-select {
    width: 100%;
    padding: var(--space-sm) var(--space-md);
    background-color: var(--color-background-input);
    border: var(--border-width-thin) solid var(--color-border-primary);
    color: var(--color-text-primary);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-base);
    clip-path: var(--clip-path-input);
    transition: border-color var(--transition-duration-normal) var(--transition-easing);
}

.variant-select:focus {
    outline: none;
    border-color: var(--color-accent-cyan);
    box-shadow: 0 0 8px var(--color-accent-cyan);
}

.variant-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
}

.variant-button {
    display: inline-block;
    padding: var(--space-sm) var(--space-md);
    background-color: var(--color-secondary-dark);
    border: var(--border-width-thin) solid var(--color-border-primary);
    color: var(--color-text-primary);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    text-transform: uppercase;
    cursor: pointer;
    transition: all var(--transition-duration-normal) var(--transition-easing);
    clip-path: var(--clip-path-input);
    min-width: 60px;
    text-align: center;
}

.variant-button:hover {
    border-color: var(--color-accent-cyan);
    background-color: rgba(var(--color-accent-cyan-rgb), 0.1);
}

.variant-radio:checked + .variant-button {
    background-color: var(--color-accent-cyan);
    color: var(--color-text-on-accent);
    border-color: var(--color-accent-cyan);
}

/* Enhanced price display */
.price-display {
    display: flex;
    align-items: baseline;
    gap: var(--space-sm);
    flex-wrap: wrap;
}

.compare-at-price {
    color: var(--color-text-secondary);
    font-size: var(--font-size-md);
}

/* Product vendor styling */
.product-vendor {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    text-transform: uppercase;
    margin-bottom: var(--space-sm);
    padding: var(--space-xs) var(--space-sm);
    background-color: rgba(var(--color-accent-cyan-rgb), 0.1);
    border: var(--border-width-thin) solid var(--color-accent-cyan);
    clip-path: var(--clip-path-input);
    display: inline-block;
}

/* Enhanced quantity selector */
.quantity-input {
    width: 60px;
    padding: var(--space-xs);
    text-align: center;
    background-color: var(--color-background-input);
    border: var(--border-width-thin) solid var(--color-border-primary);
    color: var(--color-text-primary);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-base);
    -moz-appearance: textfield;
}

.quantity-input::-webkit-outer-spin-button,
.quantity-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

.quantity-input:focus {
    outline: none;
    border-color: var(--color-accent-cyan);
}

/* Loading state for add to cart button */
.product-page-cta {
    position: relative;
    overflow: hidden;
}

.loading-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(var(--color-primary-dark-rgb), 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-duration-normal) var(--transition-easing);
}

.product-page-cta.loading .loading-overlay {
    opacity: 1;
    visibility: visible;
}

.loading-spinner {
    width: 20px;
    height: 20px;
    border: 2px solid var(--color-accent-cyan);
    border-top: 2px solid transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Social sharing */
.social-sharing {
    margin-top: var(--space-lg);
}

.social-content {
    padding: var(--space-md);
}

/* Product image wrapper for aspect ratio control */
.product-image-wrapper {
    position: relative;
    width: 100%;
    overflow: hidden;
}

.product-image-wrapper img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.product-image-placeholder {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-secondary-dark);
}

/* Product badges */
.product-badge {
    position: absolute;
    top: var(--space-sm);
    left: var(--space-sm);
    padding: var(--space-xxs) var(--space-xs);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-xs);
    text-transform: uppercase;
    border-radius: var(--border-radius-sm);
    z-index: 2;
}

.sale-badge {
    background-color: var(--color-accent-red);
    color: var(--color-text-on-accent);
}

/* Product vendor */
.product-vendor {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
    text-transform: uppercase;
    margin-bottom: var(--space-xs);
}

/* Enhanced price styling */
.product-price-compare {
    color: var(--color-text-secondary);
    margin-right: var(--space-xs);
}

.product-price-current {
    color: var(--color-accent-green);
    font-weight: var(--font-weight-bold);
}

/* Section header improvements */
.section-header {
    margin-bottom: var(--space-xl);
}

.section-description {
    margin-top: var(--space-md);
    color: var(--color-text-secondary);
    max-width: 60ch;
    margin-left: auto;
    margin-right: auto;
}

.text-left .section-description {
    margin-left: 0;
}

.text-right .section-description {
    margin-right: 0;
}

/* Section footer */
.section-footer {
    margin-top: var(--space-xl);
}

/* Collection empty state */
.collection-empty {
    grid-column: 1 / -1;
    padding: var(--space-xl);
}

.product-card .product-name {
    font-family: var(--font-family-primary);
    font-size: var(--font-size-card-title);
    margin: 0;
    line-height: 1.2;
}

.product-card .product-name a {
    color: var(--color-text-highlight);
    text-decoration: none;
    transition: color var(--transition-duration-normal) var(--transition-easing);
}

.product-card .product-name a:hover {
    color: var(--color-accent-yellow);
    text-shadow: none;
}

.product-card .product-price {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-md);
    color: var(--color-accent-green);
    margin: 0;
}

.product-card .product-button {
    display: inline-block;
    padding: var(--space-sm) var(--space-md);
    background-color: transparent;
    color: var(--color-accent-green);
    text-decoration: none;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    text-transform: uppercase;
    border: var(--border-width-thin) solid var(--color-accent-green);
    transition: all var(--transition-duration-normal) var(--transition-easing);
    text-align: center;
    min-width: 160px;
}

.product-card .product-button:hover {
    background-color: var(--color-accent-green);
    color: var(--color-darkest);
    box-shadow: 0 0 15px rgba(var(--color-accent-magenta-rgb), 0.3);
    border-color: var(--color-accent-magenta);
}

/* Collection Page Specific Styles */
.collection-page {
    padding-top: calc(var(--header-height) + var(--space-xl));
}

.collection-header {
    margin-bottom: var(--space-xl);
}

.collection-title {
    font-size: var(--font-size-h1);
    margin-bottom: var(--space-md);
}

.collection-description {
    color: var(--color-text-secondary);
    margin-bottom: var(--space-lg);
}

.collection-toolbar {
    margin-bottom: var(--space-lg);
}

.collection-product-count {
    font-family: var(--font-family-secondary);
    color: var(--color-text-secondary);
}

/* === PRODUCT GRID RESPONSIVE === */
@media screen and (max-width: 1199px) {
    .product-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
}

@media screen and (max-width: 989px) {
    .product-grid {
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }
}

@media screen and (max-width: 767px) {
    .product-grid {
        grid-template-columns: repeat(var(--grid-mobile-columns, 2), 1fr);
        gap: var(--space-md);
    }
    
    .product-card .product-info {
        padding: var(--space-sm);
    }
    
    .product-card .product-name {
        font-size: var(--font-size-base);
    }
}

/* Collection Page Layout */
.collection-content-wrapper {
    display: grid;
    grid-template-columns: minmax(250px, 1fr) 3fr;
    gap: var(--space-lg);
    margin-top: var(--space-lg);
    width: 100%;
}

.collection-filters-sidebar {
    position: sticky;
    top: calc(var(--header-height) + var(--space-md));
    height: fit-content;
    width: 100%;
}

.collection-products-main {
    width: 100%;
    min-width: 0; /* Prevent grid item from overflowing */
}

/* Product grid styles are defined above in the main product card section */

.collection-filters-content {
    padding: var(--space-md);
}

.collection-filter-group {
    margin-bottom: var(--space-md);
}

.collection-filter-group:last-child {
    margin-bottom: 0;
}

.filter-group-title {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    color: var(--color-accent-cyan);
    margin-bottom: var(--space-sm);
    text-transform: uppercase;
}

.filter-values-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.filter-value {
    margin-bottom: var(--space-xs);
}

.filter-value:last-child {
    margin-bottom: 0;
}

.filter-link {
    display: block;
    padding: var(--space-xs) var(--space-sm);
    color: var(--color-text-primary);
    text-decoration: none;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    transition: all var(--transition-duration-normal) var(--transition-easing);
    border: var(--border-width-thin) solid transparent;
}

.filter-link:hover {
    color: var(--color-accent-cyan);
    border-color: var(--color-accent-cyan);
    background-color: rgba(var(--color-accent-cyan-rgb), 0.1);
}

.filter-link.active {
    color: var(--color-accent-cyan);
    border-color: var(--color-accent-cyan);
    background-color: rgba(var(--color-accent-cyan-rgb), 0.1);
}

.filter-link[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
}

.filter-price-range {
    margin-top: var(--space-sm);
}

.price-range-inputs {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    margin-bottom: var(--space-sm);
}

.price-range-inputs input {
    width: 80px;
    padding: var(--space-xs);
    background-color: var(--color-primary-dark);
    border: var(--border-width-thin) solid var(--color-border-primary);
    color: var(--color-text-primary);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
}

.price-range-inputs input:focus {
    border-color: var(--color-accent-cyan);
    outline: none;
}

.currency {
    color: var(--color-accent-cyan);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
}

.filter-reset-button {
    display: block;
    width: 100%;
    padding: var(--space-sm);
    margin-top: var(--space-md);
    text-align: center;
    color: var(--color-text-primary);
    text-decoration: none;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    border: var(--border-width-thin) solid var(--color-border-primary);
    transition: all var(--transition-duration-normal) var(--transition-easing);
}

.filter-reset-button:hover {
    color: var(--color-accent-red);
    border-color: var(--color-accent-red);
    background-color: rgba(var(--color-accent-red-rgb), 0.1);
}

.filter-apply {
  background-color: var(--color-primary-dark) !important;
  color: var(--color-accent-green) !important;
  border-color: var(--color-accent-green) !important;
}

.filter-apply:hover {
  background-color: var(--color-accent-green) !important;
  color: var(--color-primary-dark) !important;
  border-color: var(--color-accent-green) !important;
}

@media screen and (max-width: 767px) {
    .collection-content-wrapper {
        grid-template-columns: 1fr;
    }
    
    .collection-filters-sidebar {
        position: static;
        margin-bottom: var(--space-lg);
    }
}

/* --- Data Boxes --- */
.data-box { 
    border: var(--border-width-thin) solid var(--color-border-primary); 
    background-color: var(--color-secondary-dark); 
    margin-bottom: var(--space-lg); 
    clip-path: var(--clip-path-data-box); 
}

.data-box-header { 
    background-color: var(--color-primary-dark); 
    color: var(--color-accent-green); 
    padding: var(--space-sm) var(--space-md); 
    font-family: var(--font-family-secondary); 
    font-size: var(--font-size-sm); 
    text-transform: uppercase; 
    letter-spacing: 1px; 
    border-bottom: var(--border-width-thin) solid var(--color-accent-green); 
}

.data-box-content { 
    padding: var(--space-md); 
    background-color: var(--color-secondary-dark); 
}

/* --- Forms & Inputs --- */
.form-input, .form-select, input[type="text"], input[type="email"], input[type="password"], input[type="search"], input[type="tel"], input[type="url"], input[type="number"], textarea, select { display: block; width: 100%; padding: var(--space-sm) var(--space-md); font-family: var(--font-family-secondary); font-size: var(--font-size-base); color: var(--color-text-highlight); background-color: var(--color-background-input); border: var(--border-width-thin) solid var(--color-border-primary); clip-path: var(--clip-path-input); transition: border-color var(--transition-duration-normal) var(--transition-easing), box-shadow var(--transition-duration-normal) var(--transition-easing); }
.form-input::placeholder, textarea::placeholder { color: var(--color-text-secondary); opacity: 0.7; }
.form-input:focus, textarea:focus, select:focus { outline: none; border-color: var(--color-accent-cyan); box-shadow: 0 0 8px var(--color-accent-cyan), 0 0 15px rgba(0, 255, 255, 0.3); }
.form-select, select { -webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300ffff'%3E%3Cpath d='M7 10l5 5 5-5H7z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right var(--space-md) center; background-size: 1.2em; padding-right: calc(var(--space-md) + 1.5em); }
.form-select option, select option { background-color: var(--color-background-input); color: var(--color-text-highlight); }
.quantity-selector input[type="number"] { width: 60px; padding: var(--space-xs); text-align: center; -moz-appearance: textfield; }
.quantity-selector input[type="number"]::-webkit-outer-spin-button, .quantity-selector input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="checkbox"], input[type="radio"] { accent-color: var(--color-accent-magenta); transform: scale(1.2); margin-right: var(--space-xs); vertical-align: middle; }
input[type="checkbox"]:focus, input[type="radio"]:focus { outline: 2px solid var(--color-accent-cyan); outline-offset: 2px; }
.form-group { margin-bottom: var(--space-lg); }
.form-group label { display: block; margin-bottom: var(--space-xs); font-family: var(--font-family-secondary); color: var(--color-text-secondary); text-transform: uppercase; font-size: var(--font-size-sm); }

/* === SITE HEADER === */
.site-header {
  background-color: var(--color-background-overlay);
  backdrop-filter: blur(5px);
  padding: 0;
  height: var(--header-height);
  border-bottom: var(--border-width-thin) solid var(--color-border-primary);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: var(--z-index-sticky);
  box-shadow: 0 2px 10px rgba(0, 255, 255, 0.1);
}

.header-content {
  display: grid;
  grid-template-areas: "logo nav user";
  grid-template-columns: 1fr 2fr 1fr;
  align-items: center;
  width: 100%;
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 1.5rem;
  height: var(--header-height);
}

.header-logo {
  grid-area: logo;
  justify-self: start;
  display: flex;
  align-items: center;
}

.main-nav {
  grid-area: nav;
  justify-self: center;
  display: flex;
  align-items: center;
}

.user-interface {
  grid-area: user;
  justify-self: end;
  display: flex;
  align-items: center;
  gap: var(--space-md);
  /* Prevent shrinking */
  flex-shrink: 0;
}

.header-logo .logo-link {
  font-family: var(--font-family-primary);
  font-size: clamp(1.4rem, 3vw, var(--font-size-header-logo));
  font-weight: var(--font-weight-bold);
  color: var(--color-accent-yellow);
  letter-spacing: 1px;
  text-decoration: none;
  display: flex;
  align-items: center;
  padding: 0;
  line-height: 1;
  width: 100%;
  transition: font-size 0.3s ease;
}

/* Main Navigation */
.main-nav {
  grid-area: nav;
  justify-self: center;
  display: flex;
  align-items: center;
}

.nav-list {
  display: flex;
  align-items: center;
  gap: 0.3rem;
  margin: 0;
  padding: 0;
  white-space: nowrap;
  justify-content: center;
}

.nav-item {
  display: flex;
  align-items: center;
  position: relative; /* for dropdown positioning */
}

.nav-link {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 0.6rem;
  font-size: var(--font-size-header-nav);
  font-family: var(--font-family-secondary);
  text-transform: uppercase;
  color: var(--color-text-link);
  text-decoration: none;
  transition: background-color var(--transition-duration-fast), color var(--transition-duration-fast);
  white-space: nowrap;
}

.nav-link * {
  /* Removed vertical-align: middle as it conflicts with flexbox */
}

.nav-link:hover,
.has-dropdown:hover > .nav-link {
  color: var(--color-text-link-hover);
  background-color: rgba(0, 255, 255, 0.1);
  text-shadow: none;
}

/* Dropdown Styles */
.dropdown-indicator {
  font-size: 0.7em;
  margin-left: var(--space-xs);
  transition: transform var(--transition-duration-fast) var(--transition-easing);
}

.nav-item:hover > .dropdown-indicator {
  transform: rotate(180deg);
}

/*
.nav-item::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -10px;
  height: 10px;
  background: transparent;
}
*/

.dropdown-menu {
  position: absolute;
  top: calc(100% + 2px);
  left: 0;
  list-style: none;
  padding: var(--space-xs) 0;
  margin: 0;
  background-color: var(--color-background-overlay);
  backdrop-filter: blur(8px);
  border: var(--border-width-thin) solid var(--color-border-primary);
  min-width: 220px;
  z-index: var(--z-index-dropdown);
  clip-path: var(--clip-path-data-box);
  display: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

/* Clean dropdown positioning - Dawn style */
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  margin: 0;
  list-style: none;
  padding: var(--space-xs) 0;
  background-color: var(--color-background-overlay);
  backdrop-filter: blur(8px);
  border: var(--border-width-thin) solid var(--color-border-primary);
  min-width: 220px;
  z-index: var(--z-index-dropdown);
  clip-path: var(--clip-path-data-box);
  display: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.nav-item:hover > .dropdown-menu,
.dropdown-menu:hover {
  display: block;
  opacity: 1;
}

/* Create a hover bridge between nav item and dropdown */
.nav-item::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  height: 4px;
  background: transparent;
  z-index: calc(var(--z-index-dropdown) - 1);
}

.dropdown-item {
  margin: 0;
  padding: 0;
}

.dropdown-link {
  display: block;
  padding: var(--space-sm) var(--space-md);
  color: var(--color-text-primary);
  font-family: var(--font-family-secondary);
  font-size: var(--font-size-sm);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  white-space: nowrap;
  text-decoration: none;
}

.dropdown-link:hover {
  background-color: var(--color-accent-cyan);
  color: var(--color-text-on-accent);
  text-shadow: none;
}

/* User Interface */
.user-interface {
  grid-area: user;
  justify-self: end;
  display: flex;
  align-items: center;
  gap: 0.8rem;
  flex-shrink: 0;
}

.ui-link {
  display: flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.4rem 0.6rem;
  color: var(--color-text-link);
  text-decoration: none;
  font-family: var(--font-family-secondary);
  font-size: var(--font-size-sm);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: all var(--transition-duration-fast) var(--transition-easing);
  border: var(--border-width-thin) solid transparent;
  border-radius: var(--border-radius-sm);
  line-height: 1;
}

.ui-link:hover {
  color: var(--color-text-link-hover);
  background-color: rgba(0, 255, 255, 0.1);
  border-color: var(--color-border-primary);
}

.ui-icon {
  font-size: 1.2em;
}

.cart-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 1.5em;
  height: 1.5em;
  padding: 0 var(--space-xs);
  font-size: 0.8em;
  font-weight: var(--font-weight-bold);
  color: var(--color-text-on-accent);
  background-color: var(--color-accent-yellow);
  border-radius: var(--border-radius-sm);
  margin-left: var(--space-xs);
}

/* === RESPONSIVE HEADER STYLES === */

/* Navigation Overflow Management */
.nav-item.priority-low {
  /* Lower priority items that can be hidden on smaller screens */
}

.nav-item.priority-high {
  /* High priority items that should always be visible */
}

/* Utility classes for hiding navigation items when space is limited */
@media screen and (max-width: 1199px) {
  .nav-item.hide-lg {
    display: none;
  }
}

@media screen and (max-width: 989px) {
  .nav-item.hide-md {
    display: none;
  }
}

@media screen and (max-width: 767px) {
  .nav-item.hide-sm {
    display: none;
  }
}

/* Mobile Menu Toggle Button */
.mobile-menu-toggle {
  display: none;
  background: var(--color-secondary-dark);
  border: var(--border-width-thin) solid var(--color-accent-cyan);
  color: var(--color-text-link);
  padding: var(--space-sm);
  cursor: pointer;
  font-family: var(--font-family-secondary);
  font-size: var(--font-size-sm);
  transition: all var(--transition-duration-fast) var(--transition-easing);
  clip-path: var(--clip-path-input);
  /* Grid positioning for mobile */
  grid-area: toggle;
  justify-self: center;
  min-width: 48px;
  min-height: 48px;
}

.mobile-menu-toggle:hover {
  color: var(--color-text-link-hover);
  border-color: var(--color-accent-cyan);
  background-color: rgba(0, 255, 255, 0.1);
}

.mobile-menu-toggle .hamburger {
  display: flex;
  flex-direction: column;
  gap: 3px;
  width: 20px;
  height: 16px;
}

.mobile-menu-toggle .hamburger span {
  display: block;
  height: 2px;
  width: 100%;
  background-color: var(--color-accent-cyan);
  transition: all var(--transition-duration-fast) var(--transition-easing);
}

/* Mobile menu open state */
.mobile-menu-open .mobile-menu-toggle .hamburger span:nth-child(1) {
  transform: rotate(45deg) translate(6px, 6px);
}

.mobile-menu-open .mobile-menu-toggle .hamburger span:nth-child(2) {
  opacity: 0;
}

.mobile-menu-open .mobile-menu-toggle .hamburger span:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -6px);
}

/* === TABLET SPECIFIC (768px - 989px) === */
@media screen and (min-width: 768px) and (max-width: 989px) {
  .header-content {
    padding: 0 var(--container-padding-x-sm);
  }
  
  .main-nav {
    margin: 0 var(--space-md);
  }
  
  .nav-list {
    gap: var(--space-sm);
  }
  
  .nav-link {
    padding: var(--space-sm);
    font-size: var(--font-size-sm);
  }
  
  .header-logo .logo-link {
    font-size: var(--font-size-lg);
  }
  
  .ui-link {
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-xs);
  }
  
  /* Hide less important navigation items on tablet if needed */
  .nav-item.hide-tablet {
    display: none;
  }
}

/* Mobile Styles (768px and below) */
@media screen and (max-width: 989px) {
  .site-header {
    position: relative;
  }
  
  .header-content {
    /* Switch to mobile grid layout */
    grid-template-columns: 1fr auto 1fr;
    grid-template-areas: "logo toggle user";
    padding: var(--space-sm) var(--container-padding-x-sm);
    gap: var(--space-sm);
    position: relative;
  }
  
  .header-logo .logo-link {
    font-size: clamp(1rem, 4vw, var(--font-size-lg));
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  
  .mobile-menu-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    grid-area: toggle;
    min-width: 44px;
    min-height: 44px;
  }
  
  .user-interface {
    gap: var(--space-xs);
  }
  
  /* Hide text labels on mobile - icons only */
  .ui-label {
    display: none;
  }
  
  .ui-link {
    padding: var(--space-sm);
    min-width: 44px;
    min-height: 44px;
    justify-content: center;
    position: relative;
  }
  
  .cart-count {
    position: absolute;
    top: -4px;
    right: -4px;
    min-width: 18px;
    height: 18px;
    font-size: 0.7em;
    padding: 0 var(--space-xxs);
    z-index: 1;
  }
  
  /* Mobile Navigation Menu */
  .main-nav {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    width: 100%;
    display: none;
    background-color: var(--color-background-overlay);
    backdrop-filter: blur(8px);
    border-top: var(--border-width-thin) solid var(--color-border-primary);
    border-bottom: var(--border-width-thin) solid var(--color-border-primary);
    max-height: calc(100vh - var(--header-height));
    overflow-y: auto;
    z-index: var(--z-index-dropdown);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
  
  .mobile-menu-open .main-nav {
    display: block;
  }
  
  .nav-list {
    flex-direction: column;
    gap: 0;
    align-items: stretch;
    margin: 0;
    padding: var(--space-sm) 0;
  }
  
  .nav-item {
    width: 100%;
    border-bottom: var(--border-width-thin) solid rgba(var(--color-border-primary-rgb), 0.2);
  }
  
  .nav-item:last-child {
    border-bottom: none;
  }
  
  .nav-link {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    text-align: left;
    width: 100%;
    min-height: 48px;
    font-size: var(--font-size-sm);
    transition: background-color var(--transition-duration-fast) var(--transition-easing);
  }
  
  .nav-link:hover {
    background-color: rgba(0, 255, 255, 0.1);
  }
  
  /* Dropdown handling in mobile - Override all desktop styles */
  @media screen and (max-width: 989px) {
    .main-nav .has-dropdown .dropdown-menu {
      position: static;
      display: none;
      opacity: 1;
      transform: none;
      margin: 0;
      border: none;
      background-color: #0a0f1f;
      backdrop-filter: none;
      clip-path: none;
      padding: 0;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
      border-top: 1px solid #00ffff;
      min-width: auto;
      left: auto;
      top: auto;
      z-index: auto;
    }
    
    .main-nav .has-dropdown.dropdown-open .dropdown-menu {
      display: block;
    }
    
    .main-nav .dropdown-link {
      display: block;
      padding: 1rem 2rem;
      font-size: 0.875rem;
      font-family: 'Share Tech Mono', monospace;
      border-bottom: 1px solid rgba(0, 255, 255, 0.3);
      min-height: 48px;
      color: #ffffff;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      transition: all 0.15s ease-in-out;
      position: relative;
      text-decoration: none;
      white-space: nowrap;
      background-color: transparent;
      line-height: 1.4;
    }
    
    .main-nav .dropdown-link::before {
      content: '>';
      color: #00ffff;
      margin-right: 0.75rem;
      font-family: 'Orbitron', sans-serif;
      opacity: 0;
      transform: translateX(-10px);
      transition: all 0.15s ease-in-out;
    }
    
    .main-nav .dropdown-link:hover {
      background-color: rgba(0, 255, 255, 0.1);
      color: #00ffff;
      padding-left: 2.75rem;
      text-shadow: none;
    }
    
    .main-nav .dropdown-link:hover::before {
      opacity: 1;
      transform: translateX(0);
    }
    
    .main-nav .dropdown-item:last-child .dropdown-link {
      border-bottom: none;
    }
  }
}

/* === SMALL MOBILE (0-480px) === */
@media screen and (max-width: 480px) {
  .header-content {
    padding: var(--space-xs) var(--space-sm);
    gap: var(--space-xs);
  }
  
  .header-logo .logo-link {
    font-size: clamp(0.9rem, 5vw, 1.2rem);
  }
  
  .user-interface {
    gap: var(--space-xxs);
  }
  
  .ui-link {
    padding: var(--space-xs);
    min-width: 40px;
    min-height: 40px;
  }
  
  .ui-icon {
    font-size: 0.9em;
  }
  
  .mobile-menu-toggle {
    min-width: 40px;
    min-height: 40px;
    padding: var(--space-xs);
  }
  
  .mobile-menu-toggle .hamburger {
    width: 18px;
    height: 14px;
    gap: 2px;
  }
  
  .mobile-menu-toggle .hamburger span {
    height: 2px;
  }
  
  /* Mobile menu adjustments for small screens */
  .main-nav {
    max-height: calc(100vh - 60px);
  }
  
  .nav-list {
    padding: var(--space-xs) 0;
  }
  
  .nav-link {
    padding: var(--space-sm) var(--space-md);
    font-size: var(--font-size-sm);
    min-height: 44px;
  }
  
  .dropdown-link {
    padding: var(--space-sm) var(--space-lg);
    font-size: var(--font-size-xs);
    min-height: 44px;
  }
  
  .dropdown-link:hover {
    padding-left: calc(var(--space-lg) + var(--space-sm));
  }
  
  .cart-count {
    min-width: 16px;
    height: 16px;
    font-size: 0.6em;
    top: -2px;
    right: -2px;
  }
}

/* === EXTRA SMALL MOBILE (0-360px) === */
@media screen and (max-width: 360px) {
  .header-content {
    padding: var(--space-xs) var(--space-xs);
  }
  
  .header-logo .logo-link {
    font-size: clamp(0.8rem, 6vw, 1rem);
  }
  
  .ui-link {
    min-width: 36px;
    min-height: 36px;
    padding: var(--space-xxs);
  }
  
  .mobile-menu-toggle {
    min-width: 36px;
    min-height: 36px;
  }
  
  .nav-link {
    padding: var(--space-sm);
    font-size: var(--font-size-xs);
  }
  
     .dropdown-link {
     padding: var(--space-xs) var(--space-md);
     font-size: var(--font-size-xs);
     min-height: 40px;
   }
   
   .dropdown-link:hover {
     padding-left: calc(var(--space-md) + var(--space-sm));
  }
}

/* --- Hero Section --- */
.hero-section {
    height: 100vh;
    min-height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    position: relative;
    padding: 0 var(--container-padding-x-md);
    margin-top: var(--header-height);
    background-repeat: no-repeat;
    background-position: top center;
    background-size: cover;
    overflow: hidden; /* Contains loader and overlay */
}

/* Remove margin-top on mobile when header becomes relative */
@media screen and (max-width: 989px) {
  .hero-section {
    margin-top: 0;
  }
}

/* Section spacing */
.section-title-container,
.product-showcase,
.section-custom-message-block,
.section-category-access,
.section-newsletter-signup,
.related-showcase,
.product-interface-section,
.collection-page {
    padding-top: var(--space-section-padding-y);
    padding-bottom: var(--space-section-padding-y);
    padding-left: var(--container-padding-x-md);
    padding-right: var(--container-padding-x-md);
    margin-top: var(--space-xl);
    margin-bottom: var(--space-xl);
}

/* First section shouldn't have top margin */
.section-title-container:first-child,
.product-showcase:first-child,
.section-custom-message-block:first-child,
.section-category-access:first-child,
.section-newsletter-signup:first-child,
.related-showcase:first-child,
.product-interface-section:first-child,
.collection-page:first-child {
    margin-top: 0;
}

/* Last section shouldn't have bottom margin */
.section-title-container:last-child,
.product-showcase:last-child,
.section-custom-message-block:last-child,
.section-category-access:last-child,
.section-newsletter-signup:last-child,
.related-showcase:last-child,
.product-interface-section:last-child,
.collection-page:last-child {
    margin-bottom: 0;
}

.hero-overlay { /* This is the visual dark overlay, not the loader */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(10, 15, 31, 0.7);
    z-index: var(--z-index-default);
}
.hero-content {
    position: relative;
    z-index: calc(var(--z-index-default) + 1); /* Above hero-overlay */
}
.glitch-hero {
    font-family: var(--font-family-primary);
    font-size: var(--font-size-hero-title); /* Using specific hero title size */
    font-weight: var(--font-weight-bold);
    color: var(--color-accent-yellow);
    text-shadow: 0 0 10px var(--color-accent-yellow), 0 0 20px var(--color-accent-yellow);
    margin-top: 0;
    margin-bottom: var(--space-sm);
    position: relative;
    line-height: var(--line-height-tight);
}
.glitch-hero::before, .glitch-hero::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: transparent; overflow: hidden; }
.glitch-hero::before { left: 2px; text-shadow: -1px 0 var(--color-accent-magenta); animation: glitch-anim-1 2.5s infinite linear alternate-reverse; }
.glitch-hero::after { left: -2px; text-shadow: -1px 0 var(--color-accent-cyan), 1px 1px var(--color-accent-yellow); animation: glitch-anim-2 2.5s infinite linear alternate-reverse; }
.sub-hero-text {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-hero-subtext); /* Using specific hero subtext size */
    line-height: var(--line-height-normal);
    color: var(--color-text-highlight);
    margin-bottom: var(--space-xl);
    opacity: 0.9;
    max-width: 60ch;
    margin-left: auto;
    margin-right: auto;
}

/* --- Hero Loader Overlay (from previous step) --- */
#hero-loader-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--color-primary-dark); z-index: var(--z-index-overlay); display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 1; visibility: visible; transition: opacity 0.5s ease-out, visibility 0s linear 0.5s; font-family: var(--font-family-secondary); }
.loader-text-container { text-align: left; width: 80%; max-width: 500px; }
.loader-text { color: var(--color-accent-cyan); font-size: var(--font-size-md); margin: var(--space-xs) 0; letter-spacing: 0.05em; opacity: 0; animation: fadeInTextLoader 0.4s ease-out forwards; transform: translateY(8px); }
.loader-text:nth-child(1) { animation-delay: 0.2s; }
.loader-text:nth-child(2) { animation-delay: 0.7s; }
.loader-text:nth-child(3) { animation-delay: 1.2s; }
.loader-text-final { color: var(--color-accent-green); text-transform: uppercase; }
#hero-loader-overlay.hidden { opacity: 0; visibility: hidden; transition: opacity 0.5s ease-out, visibility 0s linear 0s; }
.hero-content.initially-hidden { opacity: 0; transition: opacity 0.6s ease-in; }
.hero-content.revealed { opacity: 1; }


.category-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); text-align: center; }
.category-card { 
  background-color: var(--color-secondary-dark);
  padding: var(--space-xl) var(--space-md);
  border: var(--border-width-thin) solid var(--color-border-primary);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  clip-path: polygon(10px 0, calc(100% - 10px) 0, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0 calc(100% - 10px), 0 10px);
  color: var(--color-text-highlight);
  transition: all var(--transition-duration-normal) var(--transition-easing);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}
.category-card:hover, 
.category-card:focus { 
  background-color: var(--color-background-card);
  border-color: var(--color-accent-cyan);
  transform: translateY(-3px);
  outline: none;
  color: var(--color-accent-cyan);
  box-shadow: 0 6px 16px rgba(0, 255, 255, 0.2);
}
.category-card:hover .category-icon { color: var(--color-accent-cyan); }
.category-icon { font-size: 2.5rem; margin-bottom: var(--space-md); color: var(--color-accent-cyan); line-height: 1; transition: color var(--transition-duration-normal) var(--transition-easing); }
.category-icon img { max-height: 40px; width: auto; margin-bottom: 0; }
.category-card .category-title { 
    font-family: var(--font-family-secondary); 
    font-size: var(--font-size-md); 
    display: block; 
    margin-top: var(--space-xs); 
}

/* --- Newsletter Signup Section --- */
.signup-form { 
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  background-color: var(--color-secondary-dark);
  padding: var(--space-xl);
  border: var(--border-width-thin) solid var(--color-border-primary);
  border-radius: var(--border-radius-subtle);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}
.signup-form-fields { display: flex; gap: var(--space-sm); }
.signup-form .form-success { color: var(--color-accent-green); font-family: var(--font-family-secondary); }
.signup-form .form-errors { color: var(--color-accent-red); font-family: var(--font-family-secondary); margin-bottom: var(--space-md); }
.signup-form .form-errors ul { list-style: none; padding-left: 0; margin-top: var(--space-xs); }
.signup-form .form-errors li { margin-bottom: var(--space-xxs); }

/* === SITE FOOTER === */
.site-footer-terminal { 
  background-color: var(--color-darkest); 
  padding: var(--space-xl) 0; 
  font-family: var(--font-family-secondary); 
  font-size: var(--font-size-sm); 
  color: var(--color-text-secondary); 
  border-top: var(--border-width-medium) solid var(--color-accent-green); 
  box-shadow: 0 -3px 10px rgba(0, 255, 0, 0.15); 
}

.footer-content {
  max-width: var(--container-width);
  margin: 0 auto;
  padding: 0 var(--container-padding-x-md);
}

.footer-grid { 
  display: grid; 
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
  gap: var(--space-xl); 
  margin-bottom: var(--space-xl); 
  padding-bottom: var(--space-xl); 
  border-bottom: 1px solid var(--color-border-primary); 
}

.footer-heading { 
  font-family: var(--font-family-primary); 
  font-size: var(--font-size-md); 
  font-weight: var(--font-weight-bold);
  color: var(--color-accent-cyan); 
  margin-bottom: var(--space-md); 
  text-transform: uppercase; 
  letter-spacing: 1px;
}

.footer-links { 
  list-style: none; 
  padding: 0; 
  margin: 0; 
}

.footer-links a { 
  display: block; 
  padding: var(--space-xs) 0; 
  color: var(--color-text-primary); 
  font-family: var(--font-family-secondary);
  font-size: var(--font-size-sm);
  text-decoration: none; 
  transition: color var(--transition-duration-fast) linear, transform var(--transition-duration-fast) linear; 
}

.footer-links a:hover { 
  color: var(--color-text-link-hover); 
  text-shadow: none; 
  transform: translateX(5px); 
}

.footer-social-column .social-links { 
  display: flex; 
  gap: var(--space-lg); 
}

.footer-social-column .social-links a { 
  font-size: var(--font-size-xl); 
  color: var(--color-text-primary); 
}

.footer-social-column .social-links a:hover { 
  color: var(--color-accent-cyan); 
  transform: scale(1.1); 
}

.footer-bottom { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  flex-wrap: wrap; 
  gap: var(--space-md); 
  padding: 0 var(--container-padding-x-md); 
}

.footer-lore-text p, 
.footer-copyright p { 
  margin: 0; 
  font-size: var(--font-size-xs); 
  font-family: var(--font-family-secondary);
  color: var(--color-text-secondary); 
  letter-spacing: 1px; 
}

.footer-copyright { 
  text-align: right; 
}

/* --- Product Detail Page Specifics (from product-detail.html styling) --- */
.breadcrumb-trail { background-color: var(--color-secondary-dark); padding: var(--space-sm) 0; font-family: var(--font-family-secondary); font-size: var(--font-size-sm); border-bottom: var(--border-width-thin) solid var(--color-border-primary); margin-top: var(--header-height); color: var(--color-text-secondary); }
.breadcrumb-trail .container { max-width: var(--container-max-width); } /* Uses global .container */
.breadcrumb-trail a { color: var(--color-accent-cyan); }
.breadcrumb-trail a:hover { color: var(--color-text-highlight); }
.breadcrumb-trail .current-item { color: var(--color-accent-yellow); font-weight: var(--font-weight-bold); }

.product-layout { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl); }
.product-visuals .primary-image-container { border: var(--border-width-thin) solid var(--color-border-primary); padding: var(--space-xs); background-color: var(--color-secondary-dark); position: relative; clip-path: polygon( 0 10px, 10px 0, calc(100% - 10px) 0, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0 calc(100% - 10px) ); }
.product-visuals .primary-image-container img { width: 100%; height: auto; display: block; max-height: 500px; object-fit: contain; }
.image-overlay-data { position: absolute; bottom: var(--space-sm); right: var(--space-sm); font-family: var(--font-family-secondary); font-size: var(--font-size-xs); color: var(--color-accent-green); background-color: rgba(10, 15, 31, 0.7); padding: var(--space-xxs) var(--space-xs); border-radius: var(--border-radius-subtle); opacity: 0.7; }
.thumbnail-gallery { display: flex; gap: var(--space-sm); margin-top: var(--space-md); flex-wrap: wrap; }
.thumbnail-gallery .thumbnail-img { width: 100px; height: 80px; object-fit: cover; border: var(--border-width-medium) solid var(--color-border-primary); cursor: pointer; opacity: 0.7; transition: opacity var(--transition-duration-normal) var(--transition-easing), border-color var(--transition-duration-normal) var(--transition-easing); clip-path: polygon(0 5px, 5px 0, calc(100% - 5px) 0, 100% 5px, 100% calc(100% - 5px), calc(100% - 5px) 100%, 5px 100%, 0 calc(100% - 5px)); }
.thumbnail-gallery .thumbnail-img:hover, .thumbnail-gallery .thumbnail-img.active { opacity: 1; border-color: var(--color-accent-cyan); box-shadow: 0 0 8px var(--color-accent-cyan); }
.product-data { 
    padding: 0; 
}
.product-title-detail { font-size: var(--font-size-h1); /* Or specific product title size */ color: var(--color-accent-yellow); margin-bottom: var(--space-xs); line-height: var(--line-height-tight); }
.system-diagnostic-line { font-family: var(--font-family-secondary); font-size: var(--font-size-sm); margin-bottom: var(--space-md); padding: var(--space-xs) var(--space-sm); background-color: rgba(0,0,0,0.2); border-left: 3px solid var(--color-accent-green); display: flex; flex-wrap: wrap; gap: var(--space-xs) var(--space-md); align-items: center; }
.diag-label { color: var(--color-text-secondary); opacity: 0.8; }
.diag-value { color: var(--color-text-highlight); font-weight: var(--font-weight-bold); }
.id-value { color: var(--color-accent-yellow); }
.status-value.status-operational { color: var(--color-accent-green); font-weight: var(--font-weight-bold); }
.product-short-desc { font-size: var(--font-size-md); margin-bottom: var(--space-lg); line-height: var(--line-height-normal); opacity: 0.9; }
.price-block.data-box .price-content { padding: var(--space-md) var(--space-lg); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
.price-block .price-label { font-family: var(--font-family-secondary); font-size: var(--font-size-base); color: var(--color-text-secondary); margin-right: var(--space-xs); }
.product-price-detail.terminal-green-glow { font-family: var(--font-family-primary); font-size: var(--font-size-xxl); color: var(--color-accent-green); font-weight: var(--font-weight-bold); text-shadow: 0 0 5px var(--color-accent-green), 0 0 10px rgba(0, 255, 0, 0.5); }
.stock-indicator { font-family: var(--font-family-secondary); font-size: var(--font-size-sm); color: var(--color-accent-cyan); }
.actions-block.data-box .action-content { padding: var(--space-md) var(--space-lg); display: flex; align-items: center; gap: var(--space-lg); flex-wrap: wrap; }
.quantity-selector { display: flex; align-items: center; gap: var(--space-xs); }
.quantity-selector .diag-label { font-size: var(--font-size-sm); margin-right: var(--space-xxs);}
.product-data-tabs.data-box .tab-headers { padding: 0 var(--space-sm); border-bottom: var(--border-width-thin) solid var(--color-border-primary); }
.tab-link { font-family: var(--font-family-secondary); background-color: transparent; color: var(--color-text-secondary); border: var(--border-width-thin) solid transparent; border-bottom: none; padding: var(--space-sm) var(--space-lg); cursor: pointer; transition: all var(--transition-duration-normal) var(--transition-easing); text-transform: uppercase; clip-path: polygon(5px 0, calc(100% - 5px) 0, 100% 5px, 100% 100%, 0 100%, 0 5px); position: relative; top: 1px; }
.tab-link:hover { color: var(--color-accent-cyan); }
.tab-link.active { background-color: var(--color-background-body); color: var(--color-accent-cyan); border-color: var(--color-border-primary); border-bottom: var(--border-width-thin) solid var(--color-background-body); box-shadow: 0 -3px 5px rgba(0, 255, 255, 0.1); }
.tab-content { display: none; padding: var(--space-lg); border: var(--border-width-thin) solid var(--color-border-primary); border-top: none; background-color: var(--color-background-body); min-height: 150px; clip-path: polygon(0 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0 calc(100% - 0px)); }
.tab-content.active { display: block; }
.tab-content ul { list-style: none; padding-left: 0; }
.tab-content li { padding: var(--space-xs) 0; border-bottom: var(--border-width-thin) dashed rgba(51, 65, 85, 0.5); font-size: var(--font-size-sm); }
.tab-content li strong { color: var(--color-text-highlight); margin-right: var(--space-xs); }
#tab-feedback .feedback-entry { padding: var(--space-md); margin-bottom: var(--space-md); background-color: rgba(0,0,0,0.15); border-left: 3px solid var(--color-accent-magenta); clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 0 100%); }
#tab-feedback .feedback-entry:last-child { margin-bottom: 0; }
.feedback-meta { font-family: var(--font-family-secondary); font-size: var(--font-size-xs); color: var(--color-text-secondary); margin-bottom: var(--space-xs); }
.feedback-meta .user-id { color: var(--color-accent-yellow); margin-right: var(--space-md); }
.feedback-meta .timestamp { opacity: 0.7; }
.feedback-text { font-size: var(--font-size-sm); line-height: var(--line-height-normal); margin-bottom: var(--space-xs); padding-left: var(--space-md); border-left: var(--border-width-thin) dashed var(--color-border-primary); }
.feedback-rating { font-family: var(--font-family-secondary); font-size: var(--font-size-sm); color: var(--color-accent-green); text-align: right; }
#tab-acquisition .protocol-title { font-family: var(--font-family-primary); color: var(--color-accent-cyan); font-size: var(--font-size-md); margin-top: var(--space-lg); margin-bottom: var(--space-xs); border-bottom: var(--border-width-thin) solid var(--color-border-primary); padding-bottom: var(--space-xxs); }
#tab-acquisition .protocol-title:first-child { margin-top: 0; }
#tab-acquisition .protocol-list { list-style: none; padding-left: 0; font-family: var(--font-family-secondary); }
#tab-acquisition .protocol-list li { padding: var(--space-xs) 0; font-size: var(--font-size-sm); border-bottom: var(--border-width-thin) dotted rgba(51, 65, 85, 0.4); }
#tab-acquisition .protocol-list li strong { color: var(--color-text-highlight); margin-right: var(--space-xs); }
#tab-acquisition p { font-family: var(--font-family-secondary); font-size: var(--font-size-sm); line-height: 1.7; }
#tab-acquisition p a { color: var(--color-accent-yellow); font-weight: var(--font-weight-bold); }

/* === ANIMATIONS & EFFECTS === */
/* --- CRT/Scanline Effects (from original) --- */
.scanlines {
    display: none; /* Temporarily disable global scan lines */
}

/* --- Glitch Text Animations (from original, ensure these are present) --- */
@keyframes glitch-anim-1 { 0% { clip-path: inset(10% 0 80% 0); } 20% { clip-path: inset(50% 0 30% 0); } 40% { clip-path: inset(25% 0 60% 0); } 60% { clip-path: inset(70% 0 10% 0); } 80% { clip-path: inset(40% 0 45% 0); } 100% { clip-path: inset(85% 0 5% 0); } }
@keyframes glitch-anim-2 { 0% { clip-path: inset(75% 0 5% 0); } 20% { clip-path: inset(20% 0 55% 0); } 40% { clip-path: inset(60% 0 30% 0); } 60% { clip-path: inset(35% 0 40% 0); } 80% { clip-path: inset(90% 0 2% 0); } 100% { clip-path: inset(45% 0 25% 0); } }
@keyframes fadeInTextLoader { to { opacity: 1; transform: translateY(0); } }


/* === RESPONSIVE BREAKPOINTS === */
/* 
  Consistent breakpoint system:
  - Mobile: 0-767px
  - Tablet: 768-989px  
  - Desktop Small: 990-1399px
  - Desktop Large: 1400px+
*/

/* === TABLET AND UP (768px+) === */
@media screen and (min-width: 768px) {
  .header-content {
    padding: 0 3.2rem;
  }
  
  .container,
  .page-width {
    padding-left: var(--container-padding-x-md);
    padding-right: var(--container-padding-x-md);
  }
  
  .collection-interface-section .container {
    padding: 0 var(--container-padding-x-md);
  }
}

/* === DESKTOP SMALL (990px+) === */
@media screen and (min-width: 990px) {
  .header-content {
    grid-template-columns: 1fr auto 1fr;
    column-gap: 0.6rem;
    padding: 0 3rem;
  }
  
  .nav-list {
    gap: 0.4rem;
  }
  
  .mobile-menu-toggle {
    display: none;
  }
  
  /* Hide text labels on smaller desktop screens */
  .ui-label {
    display: none;
  }
  
  .ui-link {
    padding: 0.5rem;
    min-width: 40px;
    justify-content: center;
  }
  
  .user-interface {
    gap: 0.5rem;
  }
}

/* === DESKTOP LARGE (1400px+) === */
@media screen and (min-width: 1400px) {
  .header-content {
    column-gap: 0.8rem;
    padding: 0 5rem;
  }
  
  .nav-list {
    gap: 0.5rem;
  }
  
  /* Show text labels on large screens */
  .ui-label {
    display: inline;
  }
  
  .ui-link {
    padding: 0.4rem 0.6rem;
    min-width: auto;
    justify-content: flex-start;
  }
  
  .user-interface {
    gap: 0.8rem;
  }
}

/* === MOBILE (0-989px) === */
@media screen and (max-width: 989px) {
  .header-content {
    column-gap: 0.5rem;
    grid-template-areas: "logo toggle user";
    grid-template-columns: 1fr auto 1fr;
  }
  
  .nav-list {
    gap: 0.5rem;
  }
  
  .nav-link {
    padding: 0.4rem 0.6rem;
    font-size: var(--font-size-sm);
  }
  
  .mobile-menu-toggle {
    display: flex;
    grid-area: toggle;
    justify-self: center;
  }
  
  .main-nav {
    display: none;
    grid-area: 2 / 1 / 3 / -1;
    width: 100%;
    background-color: var(--color-background-overlay);
    backdrop-filter: blur(8px);
    border-top: var(--border-width-thin) solid var(--color-border-primary);
    padding: var(--space-sm) 0;
  }
  
  .mobile-menu-open .main-nav {
    display: block;
  }
  
  .mobile-menu-open .nav-list {
    flex-direction: column;
    gap: 0;
    align-items: stretch;
  }
  
  .mobile-menu-open .nav-item {
    width: 100%;
  }
  
  .mobile-menu-open .nav-link {
    display: block;
    padding: var(--space-md) var(--space-lg);
    border-bottom: var(--border-width-thin) solid rgba(var(--color-border-primary-rgb), 0.3);
    text-align: left;
    width: 100%;
    min-height: 48px;
  }
  
  .mobile-menu-open .nav-link:hover {
    background-color: rgba(0, 255, 255, 0.1);
  }
  
  .mobile-menu-open .nav-item:last-child .nav-link {
    border-bottom: none;
  }
  
  /* Hide text labels on mobile */
  .ui-label {
    display: none;
  }
  
  .ui-link {
    padding: var(--space-sm);
    min-width: 44px;
    justify-content: center;
  }
}

/* === CONTENT RESPONSIVE ADJUSTMENTS === */
@media screen and (max-width: 989px) {
  .product-layout {
    grid-template-columns: 1fr;
    gap: var(--space-lg);
  }
  
  .thumbnail-gallery {
    grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
    max-width: 400px;
    margin: 0 auto;
  }
  
  .variant-buttons {
    justify-content: center;
  }
  
  .actions-block.data-box .action-content {
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-md);
  }
  
  .quantity-selector {
    justify-content: center;
  }
}

@media screen and (max-width: 767px) {
  .glitch-hero { font-size: 2.2rem; }
  .sub-hero-text { font-size: var(--font-size-md); }
  .signup-form-fields { flex-direction: column; gap: var(--space-xs); }
  .signup-form input[type="email"], .signup-form button { width: 100%; }
  .product-grid { grid-template-columns: 1fr; }
  .category-grid { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
  
  /* Product page mobile styles */
  .product-layout { 
    grid-template-columns: 1fr; 
    gap: var(--space-md);
  }
  
  .product-visuals { 
    margin-bottom: var(--space-lg); 
  }
  
  .product-title-detail { 
    font-size: var(--font-size-xl); 
  }
  
  .product-price-detail.terminal-green-glow { 
    font-size: var(--font-size-xl); 
  }
  
  .thumbnail-gallery {
    grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
    gap: var(--space-xs);
  }
  
  .variant-buttons {
    flex-direction: column;
    align-items: stretch;
  }
  
  .variant-button {
    min-width: auto;
    text-align: center;
  }
  
  .price-display {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-xs);
  }
  
  .actions-block.data-box .action-content { 
    flex-direction: column; 
    align-items: stretch; 
    gap: var(--space-sm);
  }
  
  .quantity-selector { 
    margin-bottom: var(--space-md); 
    justify-content: center; 
  }
  
  .product-data-tabs.data-box .tab-headers { 
    flex-direction: column; 
    align-items: stretch; 
    border-bottom: none; 
  }
  
  .product-data-tabs.data-box .tab-link { 
    margin-bottom: var(--space-xs); 
    border: var(--border-width-thin) solid var(--color-border-primary) !important; 
  }
  
  .product-data-tabs.data-box .tab-content { 
    border-top: var(--border-width-thin) solid var(--color-border-primary); 
  }
}

@media screen and (max-width: 480px) {
  .glitch-hero { font-size: 1.8rem; }
  .btn { padding: var(--space-xs) var(--space-sm); font-size: var(--font-size-sm); }
}

/* Glitch effect styles - only for hero and main headings */
.glitch-hero,
.section-title[data-text] {
    position: relative;
}

.glitch-hero::before,
.glitch-hero::after,
.section-title[data-text]::before,
.section-title[data-text]::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    overflow: hidden;
}

.glitch-hero::before,
.section-title[data-text]::before {
    left: 2px;
    text-shadow: -1px 0 var(--color-accent-magenta);
    animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}

.glitch-hero::after,
.section-title[data-text]::after {
    left: -2px;
    text-shadow: 1px 0 var(--color-accent-green);
    animation: glitch-anim-2 2.5s infinite linear alternate-reverse;
}

/* Remove glitch effect from product titles */
.product-title-detail,
.collection-title {
    position: relative;
}

.product-title-detail::before,
.product-title-detail::after,
.collection-title::before,
.collection-title::after {
    display: none;
}

.collection-interface-section { 
  background-color: var(--color-primary-dark); 
  padding: var(--space-xl) 0;
  margin-top: var(--header-height);
}

.collection-interface-section .container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--container-padding-x-sm);
}

@media screen and (min-width: 768px) {
  .collection-interface-section .container {
    padding: 0 var(--container-padding-x-md);
  }
}

.collection-header-content {
  padding: var(--space-lg);
}

.collection-image {
  margin-top: var(--space-md);
  max-width: 100%;
  height: auto;
}

.collection-toolbar .data-box-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.collection-product-count {
  padding: var(--space-sm) var(--space-md);
  text-align: right;
  font-family: var(--font-family-secondary);
}

/* Debug Classes - Remove in production */
.debug-primary { background-color: var(--debug-primary) !important; }
.debug-secondary { background-color: var(--debug-secondary) !important; }

/* Section spacing */
.section-padding {
    padding-top: var(--space-section-padding-y);
    padding-bottom: var(--space-section-padding-y);
    padding-left: var(--container-padding-x-md);
    padding-right: var(--container-padding-x-md);
    margin-top: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.section-padding:first-child {
    margin-top: 0;
}

.section-padding:last-child {
    margin-bottom: 0;
}

.section-title {
    text-align: center;
    margin-bottom: var(--space-xxl);
    position: relative;
    font-family: var(--font-family-primary);
    color: var(--color-accent-green);
    text-shadow: 0 0 10px var(--color-accent-green);
}

.section-title[data-text] {
    color: var(--color-accent-green);
}

.section-title[data-text]::before,
.section-title[data-text]::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    overflow: hidden;
    color: var(--color-accent-green);
}

.section-title[data-text]::before {
    left: 2px;
    text-shadow: -1px 0 var(--color-accent-magenta);
    animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}

.section-title[data-text]::after {
    left: -2px;
    text-shadow: -1px 0 var(--color-accent-cyan), 1px 1px var(--color-accent-green);
    animation: glitch-anim-2 2.5s infinite linear alternate-reverse;
}

.custom-message-content.data-box {
    margin-bottom: var(--space-lg);
}

.custom-message-content.data-box > div:not(.data-box-header) {
    padding: var(--space-lg);
}

.custom-message-content .rte {
    padding: var(--space-lg);
}

.custom-message-content .rte p {
    margin: 0;
    padding: var(--space-md) 0;
}

/* Collection Filter Loading State */
.filters-loading .collection-products-main {
  opacity: 0.5;
  pointer-events: none;
  transition: opacity var(--transition-duration-normal) var(--transition-easing);
}

.filters-loading .collection-filters-sidebar {
  pointer-events: none;
}

.filters-loading .collection-filters-sidebar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(2px);
  z-index: 1;
}

