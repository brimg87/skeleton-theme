:root {
    /* === COLORS === */
    /* All color variables are now defined in snippets/css-variables.liquid */
    
    /* === TYPOGRAPHY === */
    --font-family-primary: 'Orbitron', sans-serif;
    --font-family-secondary: 'Share Tech Mono', monospace;
    --font-family-body: 'Roboto Condensed', sans-serif;

    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-bold: 700;

    --font-size-xs: 0.75rem;    /* 12px */
    --font-size-sm: 0.875rem;   /* 14px */
    --font-size-base: 1rem;     /* 16px - for body copy */
    --font-size-md: 1.125rem;   /* 18px */
    --font-size-lg: 1.25rem;    /* 20px */
    --font-size-xl: 1.5rem;     /* 24px */
    --font-size-xxl: 2rem;      /* 32px */

    /* Specific Heading Sizes (can be overridden by components) */
    --font-size-h1: 2.8rem;
    --font-size-h2: 2.2rem;
    --font-size-h3: 1.5rem;
    --font-size-h4: 1.25rem;

    /* Component Specific Sizes */
    --font-size-hero-title: 3.5rem; /* For .glitch-hero */
    --font-size-hero-subtext: var(--font-size-xl); /* For .sub-hero-text, 1.5rem */
    --font-size-section-title: var(--font-size-h2); /* For .section-title (h2) */
    --font-size-header-logo: var(--font-size-xl); /* For .site-header .logo a */
    --font-size-header-nav: var(--font-size-base); /* For .site-header .main-nav a */
    --font-size-card-title: var(--font-size-lg); /* For .product-card .product-name */

    --line-height-tight: 1.2;
    --line-height-normal: 1.6;
    --line-height-heading: 1.3;

    /* === SPACING === */
    --space-unit: 0.25rem;
    --space-xxs: calc(1 * var(--space-unit));  /* 4px */
    --space-xs:  calc(2 * var(--space-unit));  /* 8px */
    --space-sm:  calc(3 * var(--space-unit));  /* 12px */
    --space-md:  calc(4 * var(--space-unit));  /* 16px */
    --space-lg:  calc(6 * var(--space-unit));  /* 24px */
    --space-xl:  calc(8 * var(--space-unit));  /* 32px */
    --space-xxl: calc(12 * var(--space-unit)); /* 48px */
    --space-section-padding-y: var(--space-xxl);

    /* === BORDERS === */
    --border-width-thin: 1px;
    --border-width-medium: 2px;
    --border-radius-sharp: 0px;
    --border-radius-subtle: 3px;

    /* === TRANSITIONS === */
    --transition-duration-fast: 0.15s;
    --transition-duration-normal: 0.3s;
    --transition-easing: ease-in-out;

    /* === Z-INDEXES === */
    --z-index-default: 1;
    --z-index-sticky: 1000; /* Header needs to be high */
    --z-index-overlay: 500;
    --z-index-dropdown: 1100; /* Above sticky header */
    --z-index-modal: 1200;
    --z-index-critical-overlay: 9999; /* For scanlines/CRT if they must be on top */

    /* === LAYOUT === */
    --container-max-width: 1200px;
    --container-padding-x-sm: 1em;
    --container-padding-x-md: 2em;
    --header-height: 70px; /* Adjusted for slightly larger header text */

    /* Specific Component Clip Paths */
    --clip-path-button: polygon(0 0, calc(100% - 10px) 0, 100% 10px, 100% 100%, 10px 100%, 0 calc(100% - 10px));
    --clip-path-card: polygon(0 15px, 15px 0, calc(100% - 15px) 0, 100% 15px, 100% calc(100% - 15px), calc(100% - 15px) 100%, 15px 100%, 0 calc(100% - 15px));
    --clip-path-data-box: polygon(0 8px, 8px 0, calc(100% - 8px) 0, 100% 8px, 100% calc(100% - 8px), calc(100% - 8px) 100%, 8px 100%, 0 calc(100% - 8px));
    --clip-path-input: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 8px 100%, 0 calc(100% - 8px));
    --clip-path-qty-button: polygon(3px 0, calc(100% - 3px) 0, 100% 3px, 100% calc(100% - 3px), calc(100% - 3px) 100%, 3px 100%, 0 calc(100% - 3px), 0 3px);

    /* Debug Colors */
    --debug-primary: #ff0000;
    --debug-secondary: #00ff00;
}

/* === GLOBAL RESETS & BASE STYLES === */
html { box-sizing: border-box; font-size: 100%; scroll-behavior: smooth; }
*, *::before, *::after { box-sizing: inherit; margin: 0; padding: 0; }
body {
    font-family: var(--font-family-body);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    color: var(--color-text-primary);
    background-color: var(--color-background-body);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
    position: relative; /* For scanlines/CRT effect if they are fixed */
}
img, picture, video, canvas, svg { display: block; max-width: 100%; height: auto; }
ul[role='list'], ol[role='list'] { list-style: none; }

/* === TYPOGRAPHY HIERARCHY === */
a {
    color: var(--color-text-link);
    text-decoration: none;
    transition: color var(--transition-duration-normal) var(--transition-easing),
                text-shadow var(--transition-duration-normal) var(--transition-easing);
}
a:hover, a:focus {
    color: var(--color-text-link-hover);
    text-shadow: 0 0 5px var(--color-text-link), 0 0 10px var(--color-text-link);
    outline: none;
}
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family-primary);
    font-weight: var(--font-weight-bold);
    line-height: var(--line-height-heading);
    color: var(--color-text-headings-default);
    margin-top: var(--space-lg);
    margin-bottom: var(--space-md);
    text-transform: uppercase;
    letter-spacing: 1px;
}
h1 { font-size: var(--font-size-h1); }
h2 { font-size: var(--font-size-h2); }
h3 { font-size: var(--font-size-h3); }
h4 { font-size: var(--font-size-h4); }
h5 { font-size: var(--font-size-lg); }
h6 { font-size: var(--font-size-md); }
p { margin-bottom: var(--space-md); }
.rte p { margin-bottom: var(--space-md); }
.rte ul, .rte ol { margin-bottom: var(--space-md); padding-left: var(--space-lg); }
.rte li { margin-bottom: var(--space-xs); }
ul, ol { margin-bottom: var(--space-md); padding-left: var(--space-lg); }
li { margin-bottom: var(--space-xs); }
strong, b { font-weight: var(--font-weight-bold); color: var(--color-text-highlight); }
em, i { font-style: italic; }
small { font-size: var(--font-size-sm); }
code, pre {
    font-family: var(--font-family-secondary);
    background-color: var(--color-secondary-dark); /* Changed from rgba */
    padding: var(--space-xxs) var(--space-xs);
    border-radius: var(--border-radius-subtle);
    border: var(--border-width-thin) solid var(--color-border-primary);
    font-size: var(--font-size-sm);
    color: var(--color-text-primary);
}
pre { padding: var(--space-md); overflow-x: auto; margin-bottom: var(--space-md); white-space: pre-wrap; word-wrap: break-word; }
hr { border: 0; border-top: var(--border-width-thin) solid var(--color-border-primary); margin: var(--space-xl) 0; opacity: 0.5; }
.rte h1, .rte h2, .rte h3, .rte h4, .rte h5, .rte h6 { font-family: var(--font-family-primary); color: var(--color-text-headings-default); }
.rte a { color: var(--color-text-link); }
.rte a:hover, .rte a:focus { color: var(--color-text-link-hover); }
::selection { background-color: var(--color-accent-magenta); color: var(--color-primary-dark); }

/* === UTILITY CLASSES === */
/* Spacing (m-*, p-*, mt-*, etc. using --space-xxs to --space-xxl) */
.m-0{margin:0 !important;}.p-0{padding:0 !important;}.m-xxs{margin:var(--space-xxs);} /* ... (include all spacing utilities as provided before) ... */
.mt-xxs{margin-top:var(--space-xxs);}.mb-xxs{margin-bottom:var(--space-xxs);}.ml-xxs{margin-left:var(--space-xxs);}.mr-xxs{margin-right:var(--space-xxs);}.mx-xxs{margin-left:var(--space-xxs);margin-right:var(--space-xxs);}.my-xxs{margin-top:var(--space-xxs);margin-bottom:var(--space-xxs);}
.m-xs{margin:var(--space-xs);}.mt-xs{margin-top:var(--space-xs);}.mb-xs{margin-bottom:var(--space-xs);}.ml-xs{margin-left:var(--space-xs);}.mr-xs{margin-right:var(--space-xs);}.mx-xs{margin-left:var(--space-xs);margin-right:var(--space-xs);}.my-xs{margin-top:var(--space-xs);margin-bottom:var(--space-xs);}
.m-sm{margin:var(--space-sm);}.mt-sm{margin-top:var(--space-sm);}.mb-sm{margin-bottom:var(--space-sm);}.ml-sm{margin-left:var(--space-sm);}.mr-sm{margin-right:var(--space-sm);}.mx-sm{margin-left:var(--space-sm);margin-right:var(--space-sm);}.my-sm{margin-top:var(--space-sm);margin-bottom:var(--space-sm);}
.m-md{margin:var(--space-md);}.mt-md{margin-top:var(--space-md);}.mb-md{margin-bottom:var(--space-md);}.ml-md{margin-left:var(--space-md);}.mr-md{margin-right:var(--space-md);}.mx-md{margin-left:var(--space-md);margin-right:var(--space-md);}.my-md{margin-top:var(--space-md);margin-bottom:var(--space-md);}
.m-lg{margin:var(--space-lg);}.mt-lg{margin-top:var(--space-lg);}.mb-lg{margin-bottom:var(--space-lg);}.ml-lg{margin-left:var(--space-lg);}.mr-lg{margin-right:var(--space-lg);}.mx-lg{margin-left:var(--space-lg);margin-right:var(--space-lg);}.my-lg{margin-top:var(--space-lg);margin-bottom:var(--space-lg);}
.m-xl{margin:var(--space-xl);}.mt-xl{margin-top:var(--space-xl);}.mb-xl{margin-bottom:var(--space-xl);}.ml-xl{margin-left:var(--space-xl);}.mr-xl{margin-right:var(--space-xl);}.mx-xl{margin-left:var(--space-xl);margin-right:var(--space-xl);}.my-xl{margin-top:var(--space-xl);margin-bottom:var(--space-xl);}
.m-xxl{margin:var(--space-xxl);}.mt-xxl{margin-top:var(--space-xxl);}.mb-xxl{margin-bottom:var(--space-xxl);}.ml-xxl{margin-left:var(--space-xxl);}.mr-xxl{margin-right:var(--space-xxl);}.mx-xxl{margin-left:var(--space-xxl);margin-right:var(--space-xxl);}.my-xxl{margin-top:var(--space-xxl);margin-bottom:var(--space-xxl);}
.p-xxs{padding:var(--space-xxs);}.pt-xxs{padding-top:var(--space-xxs);}.pb-xxs{padding-bottom:var(--space-xxs);}.pl-xxs{padding-left:var(--space-xxs);}.pr-xxs{padding-right:var(--space-xxs);}.px-xxs{padding-left:var(--space-xxs);padding-right:var(--space-xxs);}.py-xxs{padding-top:var(--space-xxs);padding-bottom:var(--space-xxs);}
.p-xs{padding:var(--space-xs);}.pt-xs{padding-top:var(--space-xs);}.pb-xs{padding-bottom:var(--space-xs);}.pl-xs{padding-left:var(--space-xs);}.pr-xs{padding-right:var(--space-xs);}.px-xs{padding-left:var(--space-xs);padding-right:var(--space-xs);}.py-xs{padding-top:var(--space-xs);padding-bottom:var(--space-xs);}
.p-sm{padding:var(--space-sm);}.pt-sm{padding-top:var(--space-sm);}.pb-sm{padding-bottom:var(--space-sm);}.pl-sm{padding-left:var(--space-sm);}.pr-sm{padding-right:var(--space-sm);}.px-sm{padding-left:var(--space-sm);padding-right:var(--space-sm);}.py-sm{padding-top:var(--space-sm);padding-bottom:var(--space-sm);}
.p-md{padding:var(--space-md);}.pt-md{padding-top:var(--space-md);}.pb-md{padding-bottom:var(--space-md);}.pl-md{padding-left:var(--space-md);}.pr-md{padding-right:var(--space-md);}.px-md{padding-left:var(--space-md);padding-right:var(--space-md);}.py-md{padding-top:var(--space-md);padding-bottom:var(--space-md);}
.p-lg{padding:var(--space-lg);}.pt-lg{padding-top:var(--space-lg);}.pb-lg{padding-bottom:var(--space-lg);}.pl-lg{padding-left:var(--space-lg);}.pr-lg{padding-right:var(--space-lg);}.px-lg{padding-left:var(--space-lg);padding-right:var(--space-lg);}.py-lg{padding-top:var(--space-lg);padding-bottom:var(--space-lg);}
.p-xl{padding:var(--space-xl);}.pt-xl{padding-top:var(--space-xl);}.pb-xl{padding-bottom:var(--space-xl);}.pl-xl{padding-left:var(--space-xl);}.pr-xl{padding-right:var(--space-xl);}.px-xl{padding-left:var(--space-xl);padding-right:var(--space-xl);}.py-xl{padding-top:var(--space-xl);padding-bottom:var(--space-xl);}
.p-xxl{padding:var(--space-xxl);}.pt-xxl{padding-top:var(--space-xxl);}.pb-xxl{padding-bottom:var(--space-xxl);}.pl-xxl{padding-left:var(--space-xxl);}.pr-xxl{padding-right:var(--space-xxl);}.px-xxl{padding-left:var(--space-xxl);padding-right:var(--space-xxl);}.py-xxl{padding-top:var(--space-xxl);padding-bottom:var(--space-xxl);}

/* Text Utilities */
.text-left{text-align:left !important;}.text-center{text-align:center !important;}.text-right{text-align:right !important;}.text-justify{text-align:justify !important;}
.text-uppercase{text-transform:uppercase !important;}.text-lowercase{text-transform:lowercase !important;}.text-capitalize{text-transform:capitalize !important;}.text-normal-case{text-transform:none !important;}
.text-primary{color:var(--color-text-primary) !important;}.text-secondary{color:var(--color-text-secondary) !important;}.text-highlight{color:var(--color-text-highlight) !important;}
.text-accent-cyan{color:var(--color-accent-cyan) !important;}.text-accent-magenta{color:var(--color-accent-magenta) !important;}.text-accent-yellow{color:var(--color-accent-yellow) !important;}.text-accent-green{color:var(--color-accent-green) !important;}.text-accent-orange{color:var(--color-accent-orange) !important;}.text-accent-red{color:var(--color-accent-red) !important;}
.font-family-primary{font-family:var(--font-family-primary) !important;}.font-family-secondary{font-family:var(--font-family-secondary) !important;}.font-family-body{font-family:var(--font-family-body) !important;}
.font-weight-light{font-weight:var(--font-weight-light) !important;}.font-weight-normal{font-weight:var(--font-weight-normal) !important;}.font-weight-bold{font-weight:var(--font-weight-bold) !important;}
.font-size-xs{font-size:var(--font-size-xs) !important;}.font-size-sm{font-size:var(--font-size-sm) !important;}.font-size-base{font-size:var(--font-size-base) !important;}.font-size-md{font-size:var(--font-size-md) !important;}.font-size-lg{font-size:var(--font-size-lg) !important;}.font-size-xl{font-size:var(--font-size-xl) !important;}.font-size-xxl{font-size:var(--font-size-xxl) !important;}

/* Display Utilities */
.d-none{display:none !important;}.d-block{display:block !important;}.d-inline{display:inline !important;}.d-inline-block{display:inline-block !important;}.d-flex{display:flex !important;}.d-grid{display:grid !important;}

/* Flexbox Utilities */
.flex-row{flex-direction:row !important;}.flex-column{flex-direction:column !important;}.flex-wrap{flex-wrap:wrap !important;}.flex-nowrap{flex-wrap:nowrap !important;}
.justify-content-start{justify-content:flex-start !important;}.justify-content-end{justify-content:flex-end !important;}.justify-content-center{justify-content:center !important;}.justify-content-between{justify-content:space-between !important;}.justify-content-around{justify-content:space-around !important;}.justify-content-evenly{justify-content:space-evenly !important;}
.align-items-start{align-items:flex-start !important;}.align-items-end{align-items:flex-end !important;}.align-items-center{align-items:center !important;}.align-items-stretch{align-items:stretch !important;}.align-items-baseline{align-items:baseline !important;}
.flex-grow-1{flex-grow:1 !important;}.flex-shrink-0{flex-shrink:0 !important;}

/* Other Utilities */
.visually-hidden{clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}
.w-100{width:100% !important;}.h-100{height:100% !important;}
.border{border:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-top{border-top:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-bottom{border-bottom:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-left{border-left:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-right{border-right:var(--border-width-thin) solid var(--color-border-primary) !important;}.border-0{border:0 !important;}
.border-accent-cyan{border-color:var(--color-accent-cyan) !important;}

/* === LAYOUT HELPERS === */
.container {
  width: 100%;
  max-width: var(--container-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--container-padding-x-sm);
  padding-right: var(--container-padding-x-sm);
}

@media (min-width: 768px) {
  .container {
    padding-left: var(--container-padding-x-md);
    padding-right: var(--container-padding-x-md);
  }
}

.page-width {
    width: 100%;
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding-x-sm);
    padding-right: var(--container-padding-x-sm);
}

@media (min-width: 768px) {
    .page-width {
        padding-left: var(--container-padding-x-md);
        padding-right: var(--container-padding-x-md);
    }
}

/* === COMPONENTS === */
/* --- Buttons --- */
.btn { display: inline-block; padding: var(--space-sm) var(--space-lg); font-family: var(--font-family-secondary); font-size: var(--font-size-base); font-weight: var(--font-weight-normal); text-transform: uppercase; letter-spacing: 1px; text-align: center; border: var(--border-width-medium) solid transparent; background-color: transparent; cursor: pointer; transition: all var(--transition-duration-normal) var(--transition-easing); position: relative; overflow: hidden; clip-path: var(--clip-path-button); user-select: none; }
.btn-cta { color: var(--color-accent-cyan); border-color: var(--color-accent-cyan); }
.btn-cta:hover, .btn-cta:focus { background-color: var(--color-accent-cyan); color: var(--color-text-on-accent); box-shadow: 0 0 10px var(--color-accent-cyan), 0 0 20px var(--color-accent-cyan); outline: none; }
.btn-cta-primary { color: var(--color-text-on-accent); background-color: var(--color-accent-green); border-color: var(--color-accent-green); box-shadow: 0 0 10px var(--color-accent-green), 0 0 15px rgba(0,255,0,0.5); }
.btn-cta-primary:hover, .btn-cta-primary:focus { background-color: transparent; color: var(--color-accent-green); border-color: var(--color-accent-green); box-shadow: 0 0 15px var(--color-accent-green), 0 0 25px var(--color-accent-green); outline: none; }
.btn-secondary { color: var(--color-text-secondary); border-color: var(--color-border-primary); padding: var(--space-xs) var(--space-md); font-size: var(--font-size-sm); }
.btn-secondary:hover, .btn-secondary:focus { color: var(--color-accent-yellow); border-color: var(--color-accent-yellow); box-shadow: 0 0 8px var(--color-accent-yellow); outline: none; }
.btn-secondary i { margin-left: var(--space-xs); color: var(--color-accent-yellow); }
.btn-product { padding: var(--space-xs) var(--space-md); font-size: var(--font-size-sm); align-self: flex-start; }
.btn-qty { background-color: var(--color-background-input); border: var(--border-width-thin) solid var(--color-border-primary); color: var(--color-accent-cyan); font-family: var(--font-family-primary); font-size: var(--font-size-lg); width: 30px; height: 30px; padding: 0; line-height: 28px; text-align: center; clip-path: var(--clip-path-qty-button); }
.btn-qty:hover, .btn-qty:focus { background-color: var(--color-accent-cyan); color: var(--color-text-on-accent); border-color: var(--color-accent-cyan); outline: none; }
.btn::before { content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); transition: left 0.6s ease; }
.btn:hover::before { left: 150%; }
.btn-qty::before { display: none; }
.btn.disabled, .btn:disabled { opacity: 0.5; pointer-events: none; background-color: var(--color-secondary-dark); border-color: var(--color-border-primary); color: var(--color-text-secondary); box-shadow: none; }

/* --- Product Cards --- */
.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-lg);
    padding: var(--space-md) 0;
    margin: 0 auto;
    width: 100%;
    justify-content: center;
}

/* When there are 3 or fewer items, ensure they don't stretch too wide */
.product-grid:has(.product-card:nth-child(3):last-child),
.product-grid:has(.product-card:nth-child(2):last-child),
.product-grid:has(.product-card:nth-child(1):last-child) {
    max-width: calc(280px * 3 + var(--space-lg) * 2);
}

.product-card {
    width: 100%;
    background-color: var(--color-primary-dark);
    border: var(--border-width-thin) solid var(--color-border-primary);
    transition: all var(--transition-duration-normal) var(--transition-easing);
    position: relative;
    clip-path: var(--clip-path-card);
    overflow: hidden;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    border-color: var(--color-accent-magenta);
}

.product-card .product-image {
    position: relative;
    overflow: hidden;
    aspect-ratio: 1.2;
    background-color: var(--color-primary-dark);
}

.product-card .product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-duration-normal) var(--transition-easing);
}

.product-card:hover .product-image img {
    transform: scale(1.05);
}

/* Clean implementation of scan line effect */
.product-card .product-image::before,
.product-card .product-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.product-card:hover .product-image::before {
    opacity: 0.1;
    background: linear-gradient(
        transparent 0%,
        rgba(255, 0, 255, 0.1) 50%,
        transparent 100%
    );
    animation: scanline 1s linear infinite;
}

.product-card:hover .product-image::after {
    opacity: 0.1;
    background: linear-gradient(
        transparent 0%,
        rgba(0, 255, 255, 0.1) 50%,
        transparent 100%
    );
    animation: scanline 1s linear infinite reverse;
}

@keyframes scanline {
    0% {
        transform: translateY(-100%);
    }
    100% {
        transform: translateY(100%);
    }
}

/* Remove all default pseudo-elements */
.product-card .product-image::before,
.product-card .product-image::after {
    display: none;
}

.product-card .product-info {
    padding: var(--space-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    background-color: var(--color-secondary-dark);
    border-top: var(--border-width-thin) solid var(--color-accent-cyan);
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
}

.product-card .product-name {
    font-family: var(--font-family-primary);
    font-size: var(--font-size-card-title);
    margin: 0;
    line-height: 1.2;
}

.product-card .product-name a {
    color: var(--color-text-highlight);
    text-decoration: none;
    transition: color var(--transition-duration-normal) var(--transition-easing);
}

.product-card .product-name a:hover {
    color: var(--color-accent-yellow);
}

.product-card .product-price {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-md);
    color: var(--color-accent-green);
    margin: 0;
}

.product-card .product-button {
    display: inline-block;
    padding: var(--space-sm) var(--space-md);
    background-color: transparent;
    color: var(--color-accent-green);
    text-decoration: none;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    text-transform: uppercase;
    border: var(--border-width-thin) solid var(--color-accent-green);
    transition: all var(--transition-duration-normal) var(--transition-easing);
    text-align: center;
    width: 100%;
    margin-top: var(--space-sm);
}

.product-card .product-button:hover {
    background-color: var(--color-accent-green);
    color: var(--color-darkest);
    box-shadow: 0 0 15px rgba(var(--color-accent-magenta-rgb), 0.3);
    border-color: var(--color-accent-magenta);
}

/* Collection Page Specific Styles */
.collection-page {
    padding-top: calc(var(--header-height) + var(--space-xl));
}

.collection-header {
    margin-bottom: var(--space-xl);
}

.collection-title {
    font-size: var(--font-size-h1);
    margin-bottom: var(--space-md);
}

.collection-description {
    color: var(--color-text-secondary);
    margin-bottom: var(--space-lg);
}

.collection-toolbar {
    margin-bottom: var(--space-lg);
}

.collection-product-count {
    font-family: var(--font-family-secondary);
    color: var(--color-text-secondary);
}

/* Responsive Adjustments */
@media (max-width: 1200px) {
    .product-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
}

@media (max-width: 900px) {
    .product-grid {
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }
}

@media (max-width: 768px) {
    .product-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-md);
    }
    
    .product-card .product-info {
        padding: var(--space-sm);
    }
    
    .product-card .product-name {
        font-size: var(--font-size-base);
    }
}

/* Collection Page Layout */
.collection-content-wrapper {
    display: grid;
    grid-template-columns: minmax(250px, 1fr) 3fr;
    gap: var(--space-lg);
    margin-top: var(--space-lg);
    width: 100%;
}

.collection-filters-sidebar {
    position: sticky;
    top: calc(var(--header-height) + var(--space-md));
    height: fit-content;
    width: 100%;
}

.collection-products-main {
    width: 100%;
    min-width: 0; /* Prevent grid item from overflowing */
}

.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: var(--space-lg);
    width: 100%;
}

.collection-filters-content {
    padding: var(--space-md);
}

.collection-filter-group {
    margin-bottom: var(--space-md);
}

.collection-filter-group:last-child {
    margin-bottom: 0;
}

.filter-group-title {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    color: var(--color-accent-cyan);
    margin-bottom: var(--space-sm);
    text-transform: uppercase;
}

.filter-values-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.filter-value {
    margin-bottom: var(--space-xs);
}

.filter-value:last-child {
    margin-bottom: 0;
}

.filter-link {
    display: block;
    padding: var(--space-xs) var(--space-sm);
    color: var(--color-text-primary);
    text-decoration: none;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    transition: all var(--transition-duration-normal) var(--transition-easing);
    border: var(--border-width-thin) solid transparent;
}

.filter-link:hover {
    color: var(--color-accent-cyan);
    border-color: var(--color-accent-cyan);
    background-color: rgba(var(--color-accent-cyan-rgb), 0.1);
}

.filter-link.active {
    color: var(--color-accent-cyan);
    border-color: var(--color-accent-cyan);
    background-color: rgba(var(--color-accent-cyan-rgb), 0.1);
}

.filter-link[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
}

.filter-price-range {
    margin-top: var(--space-sm);
}

.price-range-inputs {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    margin-bottom: var(--space-sm);
}

.price-range-inputs input {
    width: 80px;
    padding: var(--space-xs);
    background-color: var(--color-primary-dark);
    border: var(--border-width-thin) solid var(--color-border-primary);
    color: var(--color-text-primary);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
}

.price-range-inputs input:focus {
    border-color: var(--color-accent-cyan);
    outline: none;
}

.currency {
    color: var(--color-accent-cyan);
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
}

.filter-reset-button {
    display: block;
    width: 100%;
    padding: var(--space-sm);
    margin-top: var(--space-md);
    text-align: center;
    color: var(--color-text-primary);
    text-decoration: none;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    border: var(--border-width-thin) solid var(--color-border-primary);
    transition: all var(--transition-duration-normal) var(--transition-easing);
}

.filter-reset-button:hover {
    color: var(--color-accent-red);
    border-color: var(--color-accent-red);
    background-color: rgba(var(--color-accent-red-rgb), 0.1);
}

@media (max-width: 768px) {
    .collection-content-wrapper {
        grid-template-columns: 1fr;
    }
    
    .collection-filters-sidebar {
        position: static;
        margin-bottom: var(--space-lg);
    }
}

/* --- Data Boxes --- */
.data-box { 
    border: var(--border-width-thin) solid var(--color-border-primary); 
    background-color: var(--color-secondary-dark); 
    margin-bottom: var(--space-lg); 
    clip-path: var(--clip-path-data-box); 
}

.data-box-header { 
    background-color: var(--color-primary-dark); 
    color: var(--color-accent-green); 
    padding: var(--space-sm) var(--space-md); 
    font-family: var(--font-family-secondary); 
    font-size: var(--font-size-sm); 
    text-transform: uppercase; 
    letter-spacing: 1px; 
    border-bottom: var(--border-width-thin) solid var(--color-accent-green); 
}

.data-box-content { 
    padding: var(--space-lg); 
    background-color: var(--color-secondary-dark); 
}

/* --- Forms & Inputs --- */
.form-input, .form-select, input[type="text"], input[type="email"], input[type="password"], input[type="search"], input[type="tel"], input[type="url"], input[type="number"], textarea, select { display: block; width: 100%; padding: var(--space-sm) var(--space-md); font-family: var(--font-family-secondary); font-size: var(--font-size-base); color: var(--color-text-highlight); background-color: var(--color-background-input); border: var(--border-width-thin) solid var(--color-border-primary); clip-path: var(--clip-path-input); transition: border-color var(--transition-duration-normal) var(--transition-easing), box-shadow var(--transition-duration-normal) var(--transition-easing); }
.form-input::placeholder, textarea::placeholder { color: var(--color-text-secondary); opacity: 0.7; }
.form-input:focus, textarea:focus, select:focus { outline: none; border-color: var(--color-accent-cyan); box-shadow: 0 0 8px var(--color-accent-cyan), 0 0 15px rgba(0, 255, 255, 0.3); }
.form-select, select { -webkit-appearance: none; -moz-appearance: none; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2300ffff'%3E%3Cpath d='M7 10l5 5 5-5H7z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right var(--space-md) center; background-size: 1.2em; padding-right: calc(var(--space-md) + 1.5em); }
.form-select option, select option { background-color: var(--color-background-input); color: var(--color-text-highlight); }
.quantity-selector input[type="number"] { width: 60px; padding: var(--space-xs); text-align: center; -moz-appearance: textfield; }
.quantity-selector input[type="number"]::-webkit-outer-spin-button, .quantity-selector input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="checkbox"], input[type="radio"] { accent-color: var(--color-accent-magenta); transform: scale(1.2); margin-right: var(--space-xs); vertical-align: middle; }
input[type="checkbox"]:focus, input[type="radio"]:focus { outline: 2px solid var(--color-accent-cyan); outline-offset: 2px; }
.form-group { margin-bottom: var(--space-lg); }
.form-group label { display: block; margin-bottom: var(--space-xs); font-family: var(--font-family-secondary); color: var(--color-text-secondary); text-transform: uppercase; font-size: var(--font-size-sm); }

/* === SITE HEADER === */
.site-header {
    background-color: rgba(10, 15, 31, 0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    padding: 0 var(--container-padding-x-md);
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: var(--border-width-thin) solid var(--color-border-primary);
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: var(--z-index-sticky);
    box-shadow: 0 2px 10px rgba(0, 255, 255, 0.1);
    height: var(--header-height);
    transition: background-color var(--transition-duration-normal) var(--transition-easing);
}

.site-header:hover {
    background-color: rgba(10, 15, 31, 0.95);
}

.site-header .logo a {
    color: var(--color-accent-green);
    text-decoration: none;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-header-logo);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.site-header .logo a:hover {
    color: var(--color-accent-green);
    text-shadow: 0 0 10px var(--color-accent-green);
}

.site-header .main-nav {
    display: flex;
    align-items: center;
    height: 100%;
}

.site-header .main-nav ul {
    list-style: none;
    display: flex;
    align-items: center;
    height: 100%;
    margin: 0;
    padding: 0;
}

.site-header .main-nav li {
    margin-left: var(--space-lg);
    height: 100%;
    display: flex;
    align-items: center;
}

.site-header .main-nav a {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-header-nav);
    text-transform: uppercase;
    display: flex;
    align-items: center;
    height: 100%;
    padding: 0;
    position: relative;
    top: 2px;
    color: var(--color-accent-green);
    transition: color var(--transition-duration-normal) var(--transition-easing),
                text-shadow var(--transition-duration-normal) var(--transition-easing);
}

.site-header .main-nav a:hover {
    color: var(--color-accent-green);
    text-shadow: 0 0 5px var(--color-accent-green);
}

.site-header .user-interface {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    display: flex;
    align-items: center;
    height: 100%;
}

.site-header .user-interface span,
.site-header .user-interface a {
    margin-left: var(--space-md);
    color: var(--color-accent-green);
    display: flex;
    align-items: center;
    height: 100%;
}

.site-header .user-interface a:hover {
    color: var(--color-text-highlight);
}

.site-header .user-interface i { color: var(--color-accent-cyan); margin-right: var(--space-xs); }

/* === SECTION-SPECIFIC STYLES === */
/* --- Hero Section --- */
.hero-section {
    height: 100vh;
    min-height: 600px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    position: relative;
    padding: 0 var(--container-padding-x-md);
    margin-top: var(--header-height);
    background-repeat: no-repeat;
    background-position: top center;
    background-size: cover;
    overflow: hidden; /* Contains loader and overlay */
}

/* Section spacing */
.section-title-container,
.product-showcase,
.section-custom-message-block,
.section-category-access,
.section-newsletter-signup,
.related-showcase,
.product-interface-section,
.collection-page {
    padding-top: var(--space-section-padding-y);
    padding-bottom: var(--space-section-padding-y);
    padding-left: var(--container-padding-x-md);
    padding-right: var(--container-padding-x-md);
    margin-top: var(--space-xl);
    margin-bottom: var(--space-xl);
}

/* First section shouldn't have top margin */
.section-title-container:first-child,
.product-showcase:first-child,
.section-custom-message-block:first-child,
.section-category-access:first-child,
.section-newsletter-signup:first-child,
.related-showcase:first-child,
.product-interface-section:first-child,
.collection-page:first-child {
    margin-top: 0;
}

/* Last section shouldn't have bottom margin */
.section-title-container:last-child,
.product-showcase:last-child,
.section-custom-message-block:last-child,
.section-category-access:last-child,
.section-newsletter-signup:last-child,
.related-showcase:last-child,
.product-interface-section:last-child,
.collection-page:last-child {
    margin-bottom: 0;
}

.hero-overlay { /* This is the visual dark overlay, not the loader */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(10, 15, 31, 0.7);
    z-index: var(--z-index-default);
}
.hero-content {
    position: relative;
    z-index: calc(var(--z-index-default) + 1); /* Above hero-overlay */
}
.glitch-hero {
    font-family: var(--font-family-primary);
    font-size: var(--font-size-hero-title); /* Using specific hero title size */
    font-weight: var(--font-weight-bold);
    color: var(--color-accent-yellow);
    text-shadow: 0 0 10px var(--color-accent-yellow), 0 0 20px var(--color-accent-yellow);
    margin-top: 0;
    margin-bottom: var(--space-sm);
    position: relative;
    line-height: var(--line-height-tight);
}
.glitch-hero::before, .glitch-hero::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: transparent; overflow: hidden; }
.glitch-hero::before { left: 2px; text-shadow: -1px 0 var(--color-accent-magenta); animation: glitch-anim-1 2.5s infinite linear alternate-reverse; }
.glitch-hero::after { left: -2px; text-shadow: -1px 0 var(--color-accent-cyan), 1px 1px var(--color-accent-yellow); animation: glitch-anim-2 2.5s infinite linear alternate-reverse; }
.sub-hero-text {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-hero-subtext); /* Using specific hero subtext size */
    line-height: var(--line-height-normal);
    color: var(--color-text-highlight);
    margin-bottom: var(--space-xl);
    opacity: 0.9;
    max-width: 60ch;
    margin-left: auto;
    margin-right: auto;
}

/* --- Hero Loader Overlay (from previous step) --- */
#hero-loader-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--color-primary-dark); z-index: var(--z-index-overlay); display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 1; visibility: visible; transition: opacity 0.5s ease-out, visibility 0s linear 0.5s; font-family: var(--font-family-secondary); }
.loader-text-container { text-align: left; width: 80%; max-width: 500px; }
.loader-text { color: var(--color-accent-cyan); font-size: var(--font-size-md); margin: var(--space-xs) 0; letter-spacing: 0.05em; opacity: 0; animation: fadeInTextLoader 0.4s ease-out forwards; transform: translateY(8px); }
.loader-text:nth-child(1) { animation-delay: 0.2s; }
.loader-text:nth-child(2) { animation-delay: 0.7s; }
.loader-text:nth-child(3) { animation-delay: 1.2s; }
.loader-text-final { color: var(--color-accent-green); text-transform: uppercase; }
#hero-loader-overlay.hidden { opacity: 0; visibility: hidden; transition: opacity 0.5s ease-out, visibility 0s linear 0s; }
.hero-content.initially-hidden { opacity: 0; transition: opacity 0.6s ease-in; }
.hero-content.revealed { opacity: 1; }


.category-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); text-align: center; }
.category-card { 
  background-color: var(--color-secondary-dark);
  padding: var(--space-xl) var(--space-md);
  border: var(--border-width-thin) solid var(--color-border-primary);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  clip-path: polygon(10px 0, calc(100% - 10px) 0, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0 calc(100% - 10px), 0 10px);
  color: var(--color-text-highlight);
  transition: all var(--transition-duration-normal) var(--transition-easing);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}
.category-card:hover, 
.category-card:focus { 
  background-color: var(--color-background-card);
  border-color: var(--color-accent-cyan);
  transform: translateY(-3px);
  outline: none;
  color: var(--color-accent-cyan);
  box-shadow: 0 6px 16px rgba(0, 255, 255, 0.2);
}
.category-card:hover .category-icon { color: var(--color-accent-cyan); }
.category-icon { font-size: 2.5rem; margin-bottom: var(--space-md); color: var(--color-accent-cyan); line-height: 1; transition: color var(--transition-duration-normal) var(--transition-easing); }
.category-icon img { max-height: 40px; width: auto; margin-bottom: 0; }
.category-card > span:not(.category-icon) { font-family: var(--font-family-secondary); font-size: var(--font-size-md); display: block; margin-top: var(--space-xs); }

/* --- Newsletter Signup Section --- */
.signup-form { 
  max-width: 600px;
  margin-left: auto;
  margin-right: auto;
  background-color: var(--color-secondary-dark);
  padding: var(--space-xl);
  border: var(--border-width-thin) solid var(--color-border-primary);
  border-radius: var(--border-radius-subtle);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}
.signup-form-fields { display: flex; gap: var(--space-sm); }
.signup-form .form-success { color: var(--color-accent-green); font-family: var(--font-family-secondary); }
.signup-form .form-errors { color: var(--color-accent-red); font-family: var(--font-family-secondary); margin-bottom: var(--space-md); }
.signup-form .form-errors ul { list-style: none; padding-left: 0; margin-top: var(--space-xs); }
.signup-form .form-errors li { margin-bottom: var(--space-xxs); }

/* === SITE FOOTER === */
.site-footer-terminal {
    background-color: var(--color-darkest);
    padding: var(--space-xl) var(--container-padding-x-md); /* Vertical and horizontal padding */
    text-align: center;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm); /* Using token */
    color: var(--color-text-secondary); /* Default text color for footer */
    border-top: var(--border-width-medium) solid var(--color-accent-green);
    box-shadow: 0 -3px 10px rgba(0, 255, 0, 0.15), 0 -5px 20px rgba(0, 255, 0, 0.1); /* Adjusted shadow */
}

.site-footer-terminal .footer-content p {
    margin-bottom: var(--space-xs); /* Use token */
    color: var(--color-accent-green); /* Specific color for status lines */
    opacity: 0.8;
    letter-spacing: 0.5px;
}
.site-footer-terminal .footer-content p:first-child {
    letter-spacing: 1px; /* Monospace terminal look */
}
.site-footer-terminal .footer-content p:last-child {
    margin-bottom: 0;
}

.site-footer-terminal .social-links {
    margin-top: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.site-footer-terminal .social-links a {
    margin: 0 var(--space-sm); /* Use token */
    font-size: var(--font-size-lg); /* Use token */
    color: var(--color-accent-green);
    display: inline-block; /* For proper spacing */
}
.site-footer-terminal .social-links a:hover,
.site-footer-terminal .social-links a:focus {
    color: var(--color-text-highlight);
    text-shadow: 0 0 5px var(--color-accent-green);
}

.site-footer-terminal .footer-content a:not(.social-links a) { /* For legal/contact links */
    color: var(--color-accent-green);
    opacity: 0.8;
}
.site-footer-terminal .footer-content a:not(.social-links a):hover,
.site-footer-terminal .footer-content a:not(.social-links a):focus {
    color: var(--color-text-highlight);
    opacity: 1;
    text-shadow: none; /* Remove general link shadow if not desired here */
}

/* --- Product Detail Page Specifics (from product-detail.html styling) --- */
.breadcrumb-trail { background-color: var(--color-secondary-dark); padding: var(--space-sm) 0; font-family: var(--font-family-secondary); font-size: var(--font-size-sm); border-bottom: var(--border-width-thin) solid var(--color-border-primary); margin-top: var(--header-height); color: var(--color-text-secondary); }
.breadcrumb-trail .container { max-width: var(--container-max-width); } /* Uses global .container */
.breadcrumb-trail a { color: var(--color-accent-cyan); }
.breadcrumb-trail a:hover { color: var(--color-text-highlight); }
.breadcrumb-trail .current-item { color: var(--color-accent-yellow); font-weight: var(--font-weight-bold); }

.product-layout { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl); }
.product-visuals .primary-image-container { border: var(--border-width-thin) solid var(--color-border-primary); padding: var(--space-xs); background-color: var(--color-secondary-dark); position: relative; clip-path: polygon( 0 10px, 10px 0, calc(100% - 10px) 0, 100% 10px, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0 calc(100% - 10px) ); }
.product-visuals .primary-image-container img { width: 100%; height: auto; display: block; max-height: 500px; object-fit: contain; }
.image-overlay-data { position: absolute; bottom: var(--space-sm); right: var(--space-sm); font-family: var(--font-family-secondary); font-size: var(--font-size-xs); color: var(--color-accent-green); background-color: rgba(10, 15, 31, 0.7); padding: var(--space-xxs) var(--space-xs); border-radius: var(--border-radius-subtle); opacity: 0.7; }
.thumbnail-gallery { display: flex; gap: var(--space-sm); margin-top: var(--space-md); flex-wrap: wrap; }
.thumbnail-gallery .thumbnail-img { width: 100px; height: 80px; object-fit: cover; border: var(--border-width-medium) solid var(--color-border-primary); cursor: pointer; opacity: 0.7; transition: opacity var(--transition-duration-normal) var(--transition-easing), border-color var(--transition-duration-normal) var(--transition-easing); clip-path: polygon(0 5px, 5px 0, calc(100% - 5px) 0, 100% 5px, 100% calc(100% - 5px), calc(100% - 5px) 100%, 5px 100%, 0 calc(100% - 5px)); }
.thumbnail-gallery .thumbnail-img:hover, .thumbnail-gallery .thumbnail-img.active { opacity: 1; border-color: var(--color-accent-cyan); box-shadow: 0 0 8px var(--color-accent-cyan); }
.product-data { /* This is a .data-box now effectively */ padding: 0; /* Padding handled by inner or .data-box > :not() */ }
.product-title-detail { font-size: var(--font-size-h1); /* Or specific product title size */ color: var(--color-accent-yellow); margin-bottom: var(--space-xs); line-height: var(--line-height-tight); }
.system-diagnostic-line { font-family: var(--font-family-secondary); font-size: var(--font-size-sm); margin-bottom: var(--space-md); padding: var(--space-xs) var(--space-sm); background-color: rgba(0,0,0,0.2); border-left: 3px solid var(--color-accent-green); display: flex; flex-wrap: wrap; gap: var(--space-xs) var(--space-md); align-items: center; }
.diag-label { color: var(--color-text-secondary); opacity: 0.8; }
.diag-value { color: var(--color-text-highlight); font-weight: var(--font-weight-bold); }
.id-value { color: var(--color-accent-yellow); }
.status-value.status-operational { color: var(--color-accent-green); font-weight: var(--font-weight-bold); }
.product-short-desc { font-size: var(--font-size-md); margin-bottom: var(--space-lg); line-height: var(--line-height-normal); opacity: 0.9; }
.price-block.data-box .price-content { padding: var(--space-md) var(--space-lg); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
.price-block .price-label { font-family: var(--font-family-secondary); font-size: var(--font-size-base); color: var(--color-text-secondary); margin-right: var(--space-xs); }
.product-price-detail.terminal-green-glow { font-family: var(--font-family-primary); font-size: var(--font-size-xxl); color: var(--color-accent-green); font-weight: var(--font-weight-bold); text-shadow: 0 0 5px var(--color-accent-green), 0 0 10px rgba(0, 255, 0, 0.5); }
.stock-indicator { font-family: var(--font-family-secondary); font-size: var(--font-size-sm); color: var(--color-accent-cyan); }
.actions-block.data-box .action-content { padding: var(--space-md) var(--space-lg); display: flex; align-items: center; gap: var(--space-lg); flex-wrap: wrap; }
.quantity-selector { display: flex; align-items: center; gap: var(--space-xs); }
.quantity-selector .diag-label { font-size: var(--font-size-sm); margin-right: var(--space-xxs);}
.product-data-tabs.data-box .tab-headers { padding: 0 var(--space-sm); border-bottom: var(--border-width-thin) solid var(--color-border-primary); }
.tab-link { font-family: var(--font-family-secondary); background-color: transparent; color: var(--color-text-secondary); border: var(--border-width-thin) solid transparent; border-bottom: none; padding: var(--space-sm) var(--space-lg); cursor: pointer; transition: all var(--transition-duration-normal) var(--transition-easing); text-transform: uppercase; clip-path: polygon(5px 0, calc(100% - 5px) 0, 100% 5px, 100% 100%, 0 100%, 0 5px); position: relative; top: 1px; }
.tab-link:hover { color: var(--color-accent-cyan); }
.tab-link.active { background-color: var(--color-background-body); color: var(--color-accent-cyan); border-color: var(--color-border-primary); border-bottom: var(--border-width-thin) solid var(--color-background-body); box-shadow: 0 -3px 5px rgba(0, 255, 255, 0.1); }
.tab-content { display: none; padding: var(--space-lg); border: var(--border-width-thin) solid var(--color-border-primary); border-top: none; background-color: var(--color-background-body); min-height: 150px; clip-path: polygon(0 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 10px 100%, 0 calc(100% - 0px)); }
.tab-content.active { display: block; }
.tab-content ul { list-style: none; padding-left: 0; }
.tab-content li { padding: var(--space-xs) 0; border-bottom: var(--border-width-thin) dashed rgba(51, 65, 85, 0.5); font-size: var(--font-size-sm); }
.tab-content li strong { color: var(--color-text-highlight); margin-right: var(--space-xs); }
#tab-feedback .feedback-entry { padding: var(--space-md); margin-bottom: var(--space-md); background-color: rgba(0,0,0,0.15); border-left: 3px solid var(--color-accent-magenta); clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 0 100%); }
#tab-feedback .feedback-entry:last-child { margin-bottom: 0; }
.feedback-meta { font-family: var(--font-family-secondary); font-size: var(--font-size-xs); color: var(--color-text-secondary); margin-bottom: var(--space-xs); }
.feedback-meta .user-id { color: var(--color-accent-yellow); margin-right: var(--space-md); }
.feedback-meta .timestamp { opacity: 0.7; }
.feedback-text { font-size: var(--font-size-sm); line-height: var(--line-height-normal); margin-bottom: var(--space-xs); padding-left: var(--space-md); border-left: var(--border-width-thin) dashed var(--color-border-primary); }
.feedback-rating { font-family: var(--font-family-secondary); font-size: var(--font-size-sm); color: var(--color-accent-green); text-align: right; }
#tab-acquisition .protocol-title { font-family: var(--font-family-primary); color: var(--color-accent-cyan); font-size: var(--font-size-md); margin-top: var(--space-lg); margin-bottom: var(--space-xs); border-bottom: var(--border-width-thin) solid var(--color-border-primary); padding-bottom: var(--space-xxs); }
#tab-acquisition .protocol-title:first-child { margin-top: 0; }
#tab-acquisition .protocol-list { list-style: none; padding-left: 0; font-family: var(--font-family-secondary); }
#tab-acquisition .protocol-list li { padding: var(--space-xs) 0; font-size: var(--font-size-sm); border-bottom: var(--border-width-thin) dotted rgba(51, 65, 85, 0.4); }
#tab-acquisition .protocol-list li strong { color: var(--color-text-highlight); margin-right: var(--space-xs); }
#tab-acquisition p { font-family: var(--font-family-secondary); font-size: var(--font-size-sm); line-height: 1.7; }
#tab-acquisition p a { color: var(--color-accent-yellow); font-weight: var(--font-weight-bold); }

/* === ANIMATIONS & EFFECTS === */
/* --- CRT/Scanline Effects (from original) --- */
.scanlines {
    display: none; /* Temporarily disable global scan lines */
}

/* --- Glitch Text Animations (from original, ensure these are present) --- */
@keyframes glitch-anim-1 { 0% { clip-path: inset(10% 0 80% 0); } 20% { clip-path: inset(50% 0 30% 0); } 40% { clip-path: inset(25% 0 60% 0); } 60% { clip-path: inset(70% 0 10% 0); } 80% { clip-path: inset(40% 0 45% 0); } 100% { clip-path: inset(85% 0 5% 0); } }
@keyframes glitch-anim-2 { 0% { clip-path: inset(75% 0 5% 0); } 20% { clip-path: inset(20% 0 55% 0); } 40% { clip-path: inset(60% 0 30% 0); } 60% { clip-path: inset(35% 0 40% 0); } 80% { clip-path: inset(90% 0 2% 0); } 100% { clip-path: inset(45% 0 25% 0); } }
@keyframes fadeInTextLoader { to { opacity: 1; transform: translateY(0); } }


/* === RESPONSIVE ADJUSTMENTS (from original, may need review against new system) === */
@media (max-width: 992px) {
    .site-header { flex-direction: column; padding: var(--space-xs) var(--container-padding-x-sm); /* Use tokens */ }
    .site-header .logo a { font-size: var(--font-size-lg); margin-bottom: var(--space-xxs);} /* Use tokens */
    .site-header .main-nav ul { justify-content: center; flex-wrap: wrap; }
    .site-header .main-nav li { margin: var(--space-xxs) var(--space-xs); } /* Use tokens */
    .site-header .main-nav a { font-size: var(--font-size-sm);} /* Use tokens */
    .site-header .user-interface { margin-top: var(--space-xs); font-size: var(--font-size-xs); } /* Use tokens */

    .hero-section { margin-top: calc(var(--header-height) + 30px); /* Adjust based on new wrapped header height */ }
    .glitch-hero { font-size: 2.8rem; } /* Responsive hero title size */
    .sub-hero-text { font-size: var(--font-size-lg); } /* Responsive hero subtext */

    h2.section-title { font-size: var(--font-size-xl); } /* Responsive section title */
    h2.section-title::before, h2.section-title::after { width: 10%;}
    h2.section-title::before { left: 5%; }
    h2.section-title::after { right: 5%; }

    .product-grid { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); } /* Adjust minmax */
    .collection-content-wrapper { grid-template-columns: 1fr; } /* Stack filters */
    .collection-filters-sidebar { margin-bottom: var(--space-xl); }
}

@media (max-width: 768px) {
    /* Update --header-height if it changes significantly due to wrapping */
    /* .hero-section { margin-top: NEW_DYNAMIC_HEADER_HEIGHT; } */

    .glitch-hero { font-size: 2.2rem; }
    .sub-hero-text { font-size: var(--font-size-md); }

    .signup-form-fields { flex-direction: column; gap: var(--space-xs); }
    .signup-form input[type="email"], .signup-form button { width: 100%;}

    .product-grid { grid-template-columns: 1fr; }
    .category-grid { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }

    .product-layout { grid-template-columns: 1fr; } /* Product detail page */
    .product-visuals { margin-bottom: var(--space-lg); }
    .product-title-detail { font-size: var(--font-size-xl); }
    .product-price-detail.terminal-green-glow { font-size: var(--font-size-xl); } /* Slightly smaller on mobile */
    .actions-block.data-box .action-content { flex-direction: column; align-items: stretch; }
    .quantity-selector { margin-bottom: var(--space-md); justify-content: center; }
    .product-data-tabs.data-box .tab-headers { flex-direction: column; align-items: stretch; border-bottom: none; }
    .product-data-tabs.data-box .tab-link { margin-bottom: var(--space-xs); border: var(--border-width-thin) solid var(--color-border-primary) !important; }
    .product-data-tabs.data-box .tab-content { border-top: var(--border-width-thin) solid var(--color-border-primary); }
}

@media (max-width: 480px) {
    /* Further header adjustments if needed */
    .site-header .main-nav li { margin: var(--space-xxs) var(--space-xxs); }
    .site-header .main-nav a { font-size: var(--font-size-xs);}
    .site-header .user-interface span { margin-left: var(--space-xs); display: block; text-align: center; }

    .glitch-hero { font-size: 1.8rem; }
    .btn { padding: var(--space-xs) var(--space-sm); font-size: var(--font-size-sm); } /* Smaller base buttons */
    h2.section-title { font-size: var(--font-size-lg); }
    h2.section-title::before, h2.section-title::after { display: none;}

    /* Product Card Hover Effects */
    .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        border-color: var(--color-accent-magenta); /* Changed to magenta on hover */
    }

    /* Data Box Hover Effects */
    .data-box:hover {
        border-color: var(--color-accent-magenta); /* Changed to magenta on hover */
        box-shadow: 0 0 15px rgba(var(--color-accent-magenta-rgb), 0.3);
    }

    /* Button Hover Effects */
    .button:hover {
        border-color: var(--color-accent-magenta); /* Changed to magenta on hover */
        box-shadow: 0 0 15px rgba(var(--color-accent-magenta-rgb), 0.3);
    }

    /* Collection Filters Hover Effects */
    .collection-filters-content .filter-group-title:hover {
        border-color: var(--color-accent-magenta); /* Changed to magenta on hover */
    }

    /* Newsletter Signup Hover Effects */
    .newsletter-form input[type="email"]:focus {
        border-color: var(--color-accent-magenta); /* Changed to magenta on focus */
        box-shadow: 0 0 15px rgba(var(--color-accent-magenta-rgb), 0.3);
    }

    /* Product Button Hover Effects */
    .product-card .product-button:hover {
        border-color: var(--color-accent-magenta); /* Changed to magenta on hover */
        box-shadow: 0 0 15px rgba(var(--color-accent-magenta-rgb), 0.3);
    }
}

/* Glitch effect styles - only for hero and main headings */
.glitch-hero,
.section-title[data-text] {
    position: relative;
}

.glitch-hero::before,
.glitch-hero::after,
.section-title[data-text]::before,
.section-title[data-text]::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    overflow: hidden;
}

.glitch-hero::before,
.section-title[data-text]::before {
    left: 2px;
    text-shadow: -1px 0 var(--color-accent-magenta);
    animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}

.glitch-hero::after,
.section-title[data-text]::after {
    left: -2px;
    text-shadow: 1px 0 var(--color-accent-green);
    animation: glitch-anim-2 2.5s infinite linear alternate-reverse;
}

/* Remove glitch effect from product titles */
.product-title-detail,
.collection-title {
    position: relative;
}

.product-title-detail::before,
.product-title-detail::after,
.collection-title::before,
.collection-title::after {
    display: none;
}

.collection-interface-section { 
  background-color: var(--color-primary-dark); 
  padding: var(--space-xl) 0;
}

.collection-interface-section .container {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: 0 var(--container-padding-x-sm);
}

@media (min-width: 768px) {
  .collection-interface-section .container {
    padding: 0 var(--container-padding-x-md);
  }
}

.collection-header-content {
  padding: var(--space-lg);
}

.collection-image {
  margin-top: var(--space-md);
  max-width: 100%;
  height: auto;
}

.collection-toolbar .data-box-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.collection-product-count {
  padding: var(--space-sm) var(--space-md);
  text-align: right;
  font-family: var(--font-family-secondary);
}

/* Debug Classes */
.debug-primary { background-color: var(--debug-primary) !important; }
.debug-secondary { background-color: var(--debug-secondary) !important; }

.product-card {
    width: 100%;
    background-color: var(--color-primary-dark);
    border: var(--border-width-thin) solid var(--color-border-primary);
    transition: all var(--transition-duration-normal) var(--transition-easing);
    position: relative;
    clip-path: var(--clip-path-card);
    overflow: hidden;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    border-color: var(--color-accent-magenta);
}

.product-card .product-image {
    position: relative;
    overflow: hidden;
    aspect-ratio: 1.2;
    background-color: var(--color-primary-dark);
}

.product-card .product-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-duration-normal) var(--transition-easing);
}

.product-card:hover .product-image img {
    transform: scale(1.05);
}

/* Clean implementation of scan line effect */
.product-card .product-image::before,
.product-card .product-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.product-card:hover .product-image::before {
    opacity: 0.1;
    background: linear-gradient(
        transparent 0%,
        rgba(255, 0, 255, 0.1) 50%,
        transparent 100%
    );
    animation: scanline 1s linear infinite;
}

.product-card:hover .product-image::after {
    opacity: 0.1;
    background: linear-gradient(
        transparent 0%,
        rgba(0, 255, 255, 0.1) 50%,
        transparent 100%
    );
    animation: scanline 1s linear infinite reverse;
}

@keyframes scanline {
    0% {
        transform: translateY(-100%);
    }
    100% {
        transform: translateY(100%);
    }
}

/* Remove all default pseudo-elements */
.product-card .product-image::before,
.product-card .product-image::after {
    display: none;
}

.product-card .product-info {
    padding: var(--space-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    background-color: var(--color-secondary-dark);
    border-top: var(--border-width-thin) solid var(--color-accent-cyan);
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
}

.product-card .product-name {
    font-family: var(--font-family-primary);
    font-size: var(--font-size-card-title);
    margin: 0;
    line-height: 1.2;
}

.product-card .product-name a {
    color: var(--color-text-highlight);
    text-decoration: none;
    transition: color var(--transition-duration-normal) var(--transition-easing);
}

.product-card .product-name a:hover {
    color: var(--color-accent-yellow);
}

.product-card .product-price {
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-md);
    color: var(--color-accent-green);
    margin: 0;
}

.product-card .product-button {
    display: inline-block;
    padding: var(--space-sm) var(--space-md);
    background-color: transparent;
    color: var(--color-accent-green);
    text-decoration: none;
    font-family: var(--font-family-secondary);
    font-size: var(--font-size-sm);
    text-transform: uppercase;
    border: var(--border-width-thin) solid var(--color-accent-green);
    transition: all var(--transition-duration-normal) var(--transition-easing);
    text-align: center;
    width: 100%;
    margin-top: var(--space-sm);
}

.product-card .product-button:hover {
    background-color: var(--color-accent-green);
    color: var(--color-darkest);
    box-shadow: 0 0 15px rgba(var(--color-accent-magenta-rgb), 0.3);
    border-color: var(--color-accent-magenta);
}

/* Section spacing */
.section-padding {
    padding-top: var(--space-section-padding-y);
    padding-bottom: var(--space-section-padding-y);
    padding-left: var(--container-padding-x-md);
    padding-right: var(--container-padding-x-md);
    margin-top: var(--space-lg);
    margin-bottom: var(--space-lg);
}

.section-padding:first-child {
    margin-top: 0;
}

.section-padding:last-child {
    margin-bottom: 0;
}

.section-title {
    text-align: center;
    margin-bottom: var(--space-xxl);
    position: relative;
    font-family: var(--font-family-primary);
    color: var(--color-accent-green);
    text-shadow: 0 0 10px var(--color-accent-green);
}

.section-title[data-text] {
    color: var(--color-accent-green);
}

.section-title[data-text]::before,
.section-title[data-text]::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    overflow: hidden;
    color: var(--color-accent-green);
}

.section-title[data-text]::before {
    left: 2px;
    text-shadow: -1px 0 var(--color-accent-magenta);
    animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}

.section-title[data-text]::after {
    left: -2px;
    text-shadow: -1px 0 var(--color-accent-cyan), 1px 1px var(--color-accent-green);
    animation: glitch-anim-2 2.5s infinite linear alternate-reverse;
}